define(["lodash","coreUtilsLib","image-client-api"],(function(e,t,n){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=12)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const r=n(0);function s(e){return e&&(r.startsWith(e,"#")?e.slice(1):e)}function c(e={},t){return e[s(t)]||{}}const u={isVariantRelation:e=>"VariantRelation"===e.type,extractVariantsWithoutHash:e=>!(!e||!e.variants)&&r.map(e.variants,s),extractToWithoutHash:e=>e&&e.to&&s(e.to),create:e=>({type:"VariantRelation",id:e.id,variants:e.variants?r.map(e.variants,e=>"#".concat(s(e))):[],to:"#".concat(s(e.scopedDataId)),from:e.from})},p={isBreakpointRelation:e=>e&&"BreakpointRelation"===e.type,extractBreakpointWithoutHash:e=>e&&e.breakpoint&&s(e.breakpoint),extractRefWithoutHash:e=>e&&e.ref&&s(e.ref),create:e=>({type:"BreakpointRelation",id:e.id,breakpoint:"#".concat(s(e.breakpoint)),ref:"#".concat(s(e.ref))})},d={extractValues:e=>r.get(e,"values",[]),extractValuesWithoutHash:e=>r.map(d.extractValues(e),s),create:(e=[])=>({type:"RefArray",values:r.map(e,e=>"#".concat(s(e)))}),update:(e,t)=>i(i({},e),{},{values:r.map(t,e=>"#".concat(s(e)))}),isRefArray:e=>e&&"RefArray"===e.type};e.exports={transformations:{createTransformationWithRotate:(e,t)=>({id:e,rotate:t,type:"TransformData"})},refArray:d,variantRelation:u,breakpointRelation:p,stripHashIfExists:s,getDataByQuery:c,extractLayoutDataItems:function(e,t){const n=c(e,t.layoutQuery),o=d.extractValuesWithoutHash(n);return r.compact(r.reduce(o,(t,n)=>{const o=e[n];return p.isBreakpointRelation(o)?t.push(e[p.extractRefWithoutHash(o)]):u.isVariantRelation(o)?t.push(e[u.extractToWithoutHash(o)]):t.push(o),t},[]))}}},function(e,t,n){"use strict";const o=n(0),{stripHashIfExists:i}=n(2);function a(e,t){this.migrationMap=e,this.uniqueIdGenerator=t}a.prototype.getComponentData=function(e,t){return t.dataQuery&&e.data.document_data[i(t.dataQuery)]},a.prototype.setComponentData=function(e,t,n,a){let r=t.dataQuery||o.get(a,[t.id,"dataQuery"])||this.uniqueIdGenerator.getUniqueId("dataItem","-");r=i(r),t.dataQuery="#".concat(r),n.id=r,e.data.document_data[r]=n,o.set(a,[t.id,"dataQuery"],r)},a.prototype.deleteComponentData=function(e,t){const n=t.dataQuery&&i(t.dataQuery);n&&e.data.document_data[n]&&delete e.data.document_data[n]},a.prototype.getComponentDesignData=function(e,t){return t.designQuery&&e.data.design_data[i(t.designQuery)]},a.prototype.deleteComponentDesignData=function(e,t){const n=t.designQuery&&i(t.designQuery);n&&e.data.design_data[n]&&delete e.data.design_data[n]},a.prototype.getComponentProperties=function(e,t){return t.propertyQuery&&e.data.component_properties[i(t.propertyQuery)]},a.prototype.deleteComponentProperties=function(e,t){const n=t.propertyQuery&&i(t.propertyQuery);n&&e.data.component_properties[n]&&delete e.data.component_properties[n],t.propertyQuery&&delete t.propertyQuery},a.prototype.setComponentDesignData=function(e,t,n,a){let r=t.designQuery||o.get(a,[t.id,"designQuery"])||this.uniqueIdGenerator.getUniqueId("dataItem","-");if(r=i(r),t.designQuery="#".concat(r),n.id=r,o.isObject(n.background)){const t=o.clone(n.background);t.id=i(t.id||this.uniqueIdGenerator.getUniqueId("dataItem","-")),n.background="#".concat(t.id),e.data.design_data[t.id]=t}e.data.design_data[r]=n,o.set(a,[t.id,"designQuery"],t.designQuery)},a.prototype.setComponentProperties=function(e,t,n,a){let r=t.propertyQuery||o.get(a,[t.id,"propertyQuery"])||this.uniqueIdGenerator.getUniqueId("propItem","-");r=i(r),t.propertyQuery=r,n.id=r,e.data.component_properties[r]=n,o.set(a,[t.id,"propertyQuery"],r)},a.prototype.setComponentStyle=function(e,t,n,i){const a=t.styleId||o.get(i,[t.id,"styleId"])||this.uniqueIdGenerator.getUniqueId("style","-");t.styleId=a,n.id=a,e.data.theme_data[a]=n,o.set(i,[t.id,"styleId"],a)},a.prototype.migrateComps=function(e,t,n,i){i&&o.forEach(i.slice(),o=>{this.migrationMap[o.componentType]&&this.migrationMap[o.componentType].call(this,e,t,n,o,this.uniqueIdGenerator,i),this.migrateComps(e,t,n,o.components)})},a.prototype.migratePage=function(e){const t=e.structure;if(t){const n={},o=t.components||t.children,i=t.mobileComponents;o&&this.migrateComps(e,n,!1,o),i&&this.migrateComps(e,n,!0,i)}},e.exports={CompsMigrationHelper:a,createHelperAndMigratePage:function(e,t){return(n,o,i,r,s,c,u,p)=>{if(t&&!p.isExperimentOpen(t))return;const{uniqueIdGenerator:d}=p.dataFixerUtils;new a(e,d).migratePage(n)}}}},function(e,t,n){"use strict";const o=n(0),{refArray:i,variantRelation:a}=n(2),r=["TopLevelStyle","ComponentStyle"],s={forEachStyle(e,t){o.forEach(e,(e,n,o)=>{s.isSupportedStyleData(e)&&t(e,n,o)})},forEachComponentStyle(e,t,n){const o=e[t];if(o&&n){if(s.isSupportedStyleData(o)&&n(o,t,e),i.isRefArray(o)){i.extractValuesWithoutHash(o).forEach(t=>{s.forEachComponentStyle(e,t,n)})}if(a.isVariantRelation(o)){const t=o.to;if(!t)return;s.forEachComponentStyle(e,t,n)}}},isSupportedStyleData:e=>r.includes(e.type),getDefaultStyleByRef(e,t){const n=e[t];if(s.isSupportedStyleData(n))return n;const o=i.extractValuesWithoutHash(n);let a=null,r=0;for(;r<o.length;++r){const t=e[o[r]];if(s.isSupportedStyleData(t)){a=t;break}}return a},getAllStylesByRef(e,t){const n=[];return s.forEachComponentStyle(e,t,e=>n.push(e)),n},getThemeData:e=>o.get(e,["data","theme_data","THEME_DATA"])};e.exports=s},function(e,t,n){"use strict";const o=n(9),{fittingTypes:i}=o,{alignTypes:a}=o,r={"repeat-x":i.TILE_HORIZONTAL,"repeat no_repeat":i.TILE_HORIZONTAL,"repeat no-repeat":i.TILE_HORIZONTAL,"repeat-y":i.TILE_VERTICAL,"no_repeat repeat":i.TILE_VERTICAL,"no-repeat repeat":i.TILE_VERTICAL,repeat:i.TILE,"repeat repeat":i.TILE,"":""};Object.freeze(r);const s={auto:e=>e||i.LEGACY_ORIGINAL_SIZE,cover:()=>i.SCALE_TO_FILL,contain:e=>e?i.FIT_AND_TILE:i.SCALE_TO_FIT,"":()=>i.SCALE_TO_FILL};Object.freeze(s);const c={"center center":a.CENTER,center:a.CENTER,"50% 50%":a.CENTER,"top center":a.TOP,"center top":a.TOP,"50% 0%":a.TOP,"bottom center":a.BOTTOM,"center bottom":a.BOTTOM,"50% 100%":a.BOTTOM,"center right":a.RIGHT,"right center":a.RIGHT,"100% 50%":a.RIGHT,"center left":a.LEFT,"left center":a.LEFT,"0% 50%":a.LEFT,"left top":a.TOP_LEFT,"top left":a.TOP_LEFT,"0% 0%":a.TOP_LEFT,"right top":a.TOP_RIGHT,"top right":a.TOP_RIGHT,"100% 0%":a.TOP_RIGHT,"left bottom":a.BOTTOM_LEFT,"bottom left":a.BOTTOM_LEFT,"0% 100%":a.BOTTOM_LEFT,"right bottom":a.BOTTOM_RIGHT,"bottom right":a.BOTTOM_RIGHT,"100% 100%":a.BOTTOM_RIGHT,"":a.CENTER};Object.freeze(c);const u=function(){const e={};return e[i.LEGACY_STRIP_TILE_HORIZONTAL]="repeat-x",e[i.TILE_HORIZONTAL]="repeat-x",e[i.LEGACY_STRIP_TILE_VERTICAL]="repeat-y",e[i.TILE_VERTICAL]="repeat-y",e[i.LEGACY_STRIP_TILE]="repeat",e[i.TILE]="repeat",e[i.FIT_AND_TILE]="repeat",e[""]="no-repeat",e}();Object.freeze(u);const p=function(){const e={};return e[i.LEGACY_ORIGINAL_SIZE]="auto",e[i.LEGACY_STRIP_ORIGINAL_SIZE]="auto",e[i.SCALE_TO_FILL]="cover",e[i.LEGACY_STRIP_SCALE_TO_FILL]="cover",e[i.SCALE_TO_FIT]="contain",e[i.LEGACY_STRIP_SCALE_TO_FIT]="contain",e[i.FIT_AND_TILE]="contain",e[i.LEGACY_STRIP_FIT_AND_TILE]="contain",e[""]="auto",e}();Object.freeze(p);const d=function(){const e={};return e[a.TOP]="center top",e[a.CENTER]="center",e[a.BOTTOM]="center bottom",e[a.TOP_LEFT]="left top",e[a.LEFT]="left center",e[a.BOTTOM_LEFT]="left bottom",e[a.TOP_RIGHT]="right top",e[a.RIGHT]="right center",e[a.BOTTOM_RIGHT]="right bottom",e[""]="center",e}();function l(e){return(e||"").toLowerCase().trim()}Object.freeze(d),e.exports={cssToFittingType:function(e){const t=l(e.bgRepeat),n=l(e.bgSize),o=r[t];return s[n]&&s[n](o)},cssToAlignType:function(e){return e=l(e),c[e]},fittingTypeToBgRepeat:function(e){return u[e]||u[""]},fittingTypeToBgSize:function(e){return p[e]||p[""]},alignTypeToBgPosition:function(e){return d[e]||d[""]},migrateToLegacyFittings:function(e){return e===i.TILE?i.LEGACY_STRIP_TILE:e===i.TILE_HORIZONTAL?i.LEGACY_STRIP_TILE_HORIZONTAL:e===i.TILE_VERTICAL?i.LEGACY_STRIP_TILE_VERTICAL:e===i.SCALE_TO_FILL?i.LEGACY_STRIP_SCALE_TO_FILL:e===i.SCALE_TO_FIT?i.LEGACY_STRIP_SCALE_TO_FIT:e===i.FIT_AND_TILE?i.LEGACY_STRIP_FIT_AND_TILE:e===i.LEGACY_ORIGINAL_SIZE?i.LEGACY_STRIP_ORIGINAL_SIZE:e}}},function(e,t,n){"use strict";const o=n(13)(),i=n(124)(o);e.exports=i},function(e,t,n){"use strict";e.exports={createBehaviorsDataItem:function(e,t){return{id:t.getUniqueId("behavior","-"),type:"ObsoleteBehaviorsList",items:e}}}},function(e,t,n){"use strict";const o=n(0),i="BOTTOM_BOTTOM",a="BOTTOM_TOP";function r(e){return e&&e.layout&&e.layout.y+e.layout.height}function s(e){return e.layout&&e.layout.anchors||[]}function c(e){return e.type===i||e.type===a}e.exports={fixBottomTopBottomBottomCycles:function e(t){if(o.isEmpty(t))return;const n=o.keyBy(t,"id");o.forEach(t,t=>{const u=s(t);o.remove(u,e=>c(e)&&function(e,t,n){let s;switch(e.type){case i:s=r(n);break;case a:s=o.get(n,"layout.y");break;default:return!1}return!o.isUndefined(s)&&s-r(t)<0}(e,t,n[e.targetComponent])&&function e(t,n,i,a){if(a[n.id])return!1;a[n.id]=!0;let r=s(n);return r=o.filter(r,c),o.some(r,n=>n.targetComponent===t.id||e(t,i[n.targetComponent],i,a))}(t,n[e.targetComponent],n,{})),e(t.components)})}}},function(e,t){e.exports=n},function(e,t,n){"use strict";const o=n(0),i=n(117),a=o.pickBy(i,{isPublicViewerData:!0}),r=o.omitBy(i,{isPublicViewerData:!0}),s=o.map(a,"mapName"),c=o(a).pickBy("query").map("query").value(),u=o(r).pickBy("query").map("query").value();e.exports={publicDataMaps:s,publicDataQueries:c,nonPublicDataQueries:u}},function(e){e.exports=JSON.parse('{"NAMESPACE_MAPPING":{"anchors":"anchors_data","atomicScopes":"atomicScopes","behaviors":"behaviors_data","breakpoints":"breakpoints_data","connections":"connections_data","contentRole":"contentRole","data":"document_data","design":"design_data","discussions":"discussions","grouping":"grouping","intent":"intent","layout":"layout_data","manifest":"manifest","migration":"migration","mobileHints":"mobile_hints","naming":"naming","pageSections":"pageSections","presets":"presets","props":"component_properties","reactions":"reactions","slots":"slots","states":"states","style":"theme_data","transformations":"transformations_data","transitions":"transitions_data","triggers":"triggers","variants":"variants_data"},"PAGE_DATA_DATA_TYPES":{"anchors":"anchors_data","atomicScopes":"atomicScopes","behaviors":"behaviors_data","breakpoints":"breakpoints_data","connections":"connections_data","contentRole":"contentRole","data":"document_data","design":"design_data","discussions":"discussions","grouping":"grouping","intent":"intent","layout":"layout_data","manifest":"manifest","migration":"migration","mobileHints":"mobile_hints","naming":"naming","pageSections":"pageSections","presets":"presets","props":"component_properties","reactions":"reactions","slots":"slots","states":"states","style":"theme_data","transformations":"transformations_data","transitions":"transitions_data","triggers":"triggers","variants":"variants_data"},"VIEWER_PAGE_DATA_TYPES":{"anchors":"anchors_data","behaviors":"behaviors_data","breakpoints":"breakpoints_data","connections":"connections_data","data":"document_data","design":"design_data","layout":"layout_data","mobileHints":"mobile_hints","presets":"presets","props":"component_properties","reactions":"reactions","slots":"slots","states":"states","style":"theme_data","transformations":"transformations_data","transitions":"transitions_data","triggers":"triggers","variants":"variants_data"},"VIEWER_DATA_TYPES":{"anchors":"anchors","behaviors":"behaviors","breakpoints":"breakpoints","connections":"connections","data":"data","design":"design","layout":"layout","mobileHints":"mobileHints","presets":"presets","prop":"props","reactions":"reactions","slots":"slots","states":"states","theme":"style","transformations":"transformations","transitions":"transitions","triggers":"triggers","variants":"variants"},"DATA_TYPES":{"anchors":"anchors","atomicScopes":"atomicScopes","behaviors":"behaviors","breakpoints":"breakpoints","connections":"connections","contentRole":"contentRole","data":"data","design":"design","discussions":"discussions","grouping":"grouping","intent":"intent","layout":"layout","manifest":"manifest","migration":"migration","mobileHints":"mobileHints","naming":"naming","pageSections":"pageSections","presets":"presets","prop":"props","reactions":"reactions","slots":"slots","states":"states","theme":"style","transformations":"transformations","transitions":"transitions","triggers":"triggers","variants":"variants"},"FEATURES_PAGE_DATA_TYPES":{"contentRole":"contentRole","discussions":"discussions","grouping":"grouping","intent":"intent","manifest":"manifest","migration":"migration","naming":"naming","pageSections":"pageSections","presets":"presets"},"COMP_DATA_QUERY_KEYS":{"anchors":"anchorQuery","behaviors":"behaviorQuery","breakpoints":"breakpointsQuery","connections":"connectionQuery","contentRole":"contentRoleQuery","data":"dataQuery","design":"designQuery","discussions":"discussionsQuery","grouping":"groupingQuery","intent":"intentQuery","layout":"layoutQuery","manifest":"manifestQuery","migration":"migrationQuery","mobileHints":"mobileHintsQuery","naming":"namingQuery","pageSections":"pageSectionsQuery","presets":"presetsQuery","props":"propertyQuery","reactions":"reactionsQuery","slots":"slotsQuery","states":"statesQuery","transformations":"transformationQuery","transitions":"transitionQuery","triggers":"triggersQuery","variants":"breakpointVariantsQuery"},"COMP_DATA_QUERY_KEYS_WITH_STYLE":{"anchors":"anchorQuery","behaviors":"behaviorQuery","breakpoints":"breakpointsQuery","connections":"connectionQuery","contentRole":"contentRoleQuery","data":"dataQuery","design":"designQuery","discussions":"discussionsQuery","grouping":"groupingQuery","intent":"intentQuery","layout":"layoutQuery","manifest":"manifestQuery","migration":"migrationQuery","mobileHints":"mobileHintsQuery","naming":"namingQuery","pageSections":"pageSectionsQuery","presets":"presetsQuery","props":"propertyQuery","reactions":"reactionsQuery","slots":"slotsQuery","states":"statesQuery","style":"styleId","transformations":"transformationQuery","transitions":"transitionQuery","triggers":"triggersQuery","variants":"breakpointVariantsQuery"},"SERIALIZED_SCOPED_DATA_KEYS":{"design":"scopedDesigns","layout":"scopedLayouts","presets":"scopedPresets","reactions":"scopedReactions","style":"scopedStyles","transformations":"scopedTransformations","transitions":"scopedTransitions"},"ALIAS_NAMESPACES":{"DESKTOP":"structure","MOBILE":"structure"},"OVERRIDE_NAMESPACES":{"multilingualTranslations":"data"}}')},function(e,t,n){"use strict";const o=n(6),i=n(126),a=n(5),r=n(8);e.exports={fix:o,deprecatedSiteModelMigrater:i,imageTransformDataFixers:a,anchorCyclesHelper:r}},function(e,t,n){"use strict";const o=n(0),i=n(14),a=n(16),r=n(17),s=n(19),c=n(20),u=n(22),p=n(23),d=n(24),l=n(25),m=n(26),y=n(27),g=n(28),f=n(30),w=n(31),h=n(32),S=n(33),k=n(34),b=n(35),T=n(36),v=n(37),I=n(38),_=n(39),P=n(40),x=n(41),E=n(42),M=n(43),A=n(44),C=n(45),O=n(46),D=n(47),B=n(48),N=n(49),L=n(50),R=n(51),Q=n(52),F=n(53),U=n(54),H=n(55),G=n(56),V=n(57),q=n(58),j=n(59),W=n(60),z=n(61),Y=n(62),K=n(63),J=n(64),Z=n(65),X=n(66),$=n(67),ee=n(68),te=n(69),ne=n(70),oe=n(71),ie=n(72),ae=n(73),re=n(74),se=n(75),ce=n(76),ue=n(77),pe=n(78),de=n(79),le=n(80),me=n(81),ye=n(82),ge=n(83),fe=n(84),we=n(85),he=n(86),Se=n(87),ke=n(88),be=n(89),Te=n(90),ve=n(91),Ie=n(92),_e=n(93),Pe=n(94),xe=n(95),Ee=n(96),Me=n(97),Ae=n(98),Ce=n(99),Oe=n(100),De=n(101),Be=n(102),Ne=n(103),Le=n(104),Re=n(105),Qe=n(107),Fe=n(108),Ue=n(109),He=n(110),Ge=n(111),Ve=n(112),qe=n(113),je=n(114),We=n(115),ze=n(116),Ye=n(118),Ke=n(119),Je=n(120),Ze=n(121),Xe=n(122),$e=n(123),et=o.compact([Be,Oe,Ee,Me,i,r,s,B,N,L,$,ee,c,u,p,d,l,m,y,g,Ae,f,ge,w,S,k,b,T,v,I,_,P,a,x,E,M,A,C,O,D,ce,ue,R,Q,F,U,H,G,V,q,W,z,Y,j,K,Z,X,$,ne,oe,ie,ae,re,se,pe,le,me,de,ye,fe,J,we,he,Se,ke,be,Te,Pe,ve,Ie,_e,xe,De,Ne,Ce,Le,Re,te,He,Ge,Ve,Qe,Fe,Ue,h,qe,je,We,ze,Ye,Ke,Je,Ze,Xe,$e]);e.exports=()=>{const e=[];return{registerPlugin:t=>e.push(t),getPlugins:()=>o.concat(et,e)}}},function(e,t,n){"use strict";const o=n(0),{CompsMigrationHelper:i}=n(3),a=n(15);function r(e,t,n,o){if(!n)return void(t[o.id]=o);const i=t[o.id]||{};if(i.componentType===o.componentType)return;const r=i.componentType;o.componentType=r;const s=this.getComponentProperties(e,o),c=a[r]?a[r].propType:"";!r||s&&s.type===c||(o.propertyQuery=i.propertyQuery)}e.exports={exec(e,t,n,s,c,u,p,d){const l=o.mapValues(a,()=>r),{uniqueIdGenerator:m}=d.dataFixerUtils;new i(l,m).migratePage(e)}}},function(e,t,n){"use strict";e.exports={"wysiwyg.viewer.components.MatrixGallery":{propType:"MatrixGalleryProperties"},"wysiwyg.viewer.components.PaginatedGridGallery":{propType:"PaginatedGridGalleryProperties"},"wysiwyg.viewer.components.SliderGallery":{propType:"SliderGalleryProperties"},"wysiwyg.viewer.components.SlideShowGallery":{propType:"SlideShowGalleryProperties"},"tpa.viewer.components.Masonry":{propType:"MasonryProperties"},"tpa.viewer.components.Accordion":{propType:"AccordionProperties"},"tpa.viewer.components.Impress":{propType:"ImpressProperties"},"tpa.viewer.components.Freestyle":{propType:"FreestyleProperties"},"tpa.viewer.components.Collage":{propType:"CollageProperties"},"tpa.viewer.components.Honeycomb":{propType:"HoneycombProperties"},"tpa.viewer.components.StripShowcase":{propType:"StripShowcaseProperties"},"tpa.viewer.components.StripSlideshow":{propType:"StripSlideshowProperties"},"tpa.viewer.components.Thumbnails":{propType:"ThumbnailsProperties"},"wysiwyg.viewer.components.tpapps.TPA3DGallery":{propType:"SlideShowGalleryProperties"},"wysiwyg.viewer.components.tpapps.TPA3DCarousel":{propType:"SlideShowGalleryProperties"}}},function(e,t,n){"use strict";e.exports={exec(e){e.structure=e.structure||{},e.structure.layout=e.structure.layout||{},e.structure.layout.y=0}}},function(e,t,n){"use strict";function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}const a=n(0),r=n(18),s=["wysiwyg.viewer.components.HeaderContainer","wysiwyg.viewer.components.SiteRegionContainer","wysiwyg.viewer.components.PagesContainer","wysiwyg.viewer.components.FooterContainer","platform.components.AppController","wysiwyg.viewer.components.tpapps.TPAGluedWidget","wysiwyg.viewer.components.QuickActionBar","wysiwyg.common.components.backtotopbutton.viewer.BackToTopButton","wysiwyg.viewer.components.BackToTopButton","wysiwyg.viewer.components.MenuContainer"],c=e=>a.get(e,["data","document_data","masterPage","layoutSettings"],{}),u=e=>(e=>c(e).useDesktopSectionsLayout)(e),p=e=>!(e=>{const t=a.get(e,["structure","mobileComponents"]);return a.some(t,({componentType:e})=>!a.includes(s,e))})(e),d=e=>{"mesh"!==(e=>a.get(e,["data","document_data","masterPage","layoutSettings","mechanism"],"anchors"))(e)||u(e)&&p(e)||((e,t)=>{a.set(e,["data","document_data","masterPage","layoutSettings","mechanism"],t)})(e,"anchors")},l={MOBILE:["wysiwyg.viewer.components.HeaderContainer","wysiwyg.viewer.components.SiteRegionContainer","wysiwyg.viewer.components.PagesContainer","wysiwyg.viewer.components.FooterContainer"],DESKTOP:["wysiwyg.viewer.components.HeaderContainer","wysiwyg.viewer.components.PagesContainer","wysiwyg.viewer.components.FooterContainer"]},m=(e,t)=>a.includes((e=>l[e?"MOBILE":"DESKTOP"])(e),t.componentType),y=e=>"PAGES_CONTAINER"===e.id,g=(e,t)=>{return m(t,e)||(n=e,a.get(n,["layout","fixedPosition"],!1));var n},f=e=>{const t=(n=e,a.findIndex(n,y));var n;const o=e.length-1;if(t===o)return t;const i=(r=e,s=e=>g(e,!1),c=t,a.findIndex(r,s,c+1));var r,s,c;return-1===i?o:i-1},w=e=>{if(!0===(e=>a.get(e,["data","document_data","masterPage","layoutSettings","soapCompsAroundPagesContainer"],!1))(e)){const r=((e,t)=>t?a.get(e,["structure","mobileComponents"]):a.get(e,["structure","children"]))(e,!1);if("wysiwyg.viewer.components.SiteRegionContainer"===a.head(r).componentType){const s=f(r);n=0,i=s,(t=r).splice.apply(t,[i,0].concat(o(t.splice(n,1)))),((e,t)=>{a.set(e,["data","document_data","masterPage","layoutSettings","soapCompsAroundPagesContainer"],t)})(e,!1)}}var t,n,i};function h(e){return 0===a.get(e,"layout.width")}function S(e){return 0===a.get(e,"layout.height")}function k(e){h(e)&&a.set(e,"layout.width",100),S(e)&&a.set(e,"layout.height",100)}function b(e,t){let n=!1;if(a.forEach(["SITE_HEADER","SITE_FOOTER"],o=>{const i=a.find(e,{id:o});h(i)&&(n=!0),S(i)&&(a.set(i,"layout.height",100),n=!0),a.set(i,"layout.width",t)}),n){const t=a.reject(e,{id:"PAGES_CONTAINER"});r(t,[k])}}function T(e,t){const n=a.find(e,{id:"SITE_HEADER"});if(!n)return;(function(e,t){if(!t.behaviorQuery)return!1;const n=a.get(e,["data","behaviors_data",t.behaviorQuery]);try{const e=JSON.parse(n.items);return a.some(e,{type:"scrub",name:"ScrubAnimation"})}catch(e){return!1}})(t,n)&&a.set(n,["layout","fixedPosition"],!0);const o=a.find(e,{id:"SITE_FOOTER"});a.set(o,["layout","fixedPosition"],!1)}function v(e){const t=e.structure,n=t.children,o=t.mobileComponents,i=a.get(e,"data.document_data.masterPage.renderModifiers.siteWidth",980);var r;_(n),b(n,i),_(o),b(o,320),T(o,e),r=o,a.forEach(r,e=>{a.forEach(a.get(e,"layout.anchors"),t=>{switch(e.id){case"SITE_FOOTER":"BOTTOM_PARENT"===t.type&&(t.distance=0);break;case"PAGES_CONTAINER":"BOTTOM_TOP"===t.type&&t.locked&&t.distance>=70&&(t.originalValue=0,t.locked=!1)}})})}const I=[{componentType:"wysiwyg.viewer.components.PagesContainer",id:"PAGES_CONTAINER"},{componentType:"wysiwyg.viewer.components.FooterContainer",id:"SITE_FOOTER"},{componentType:"wysiwyg.viewer.components.HeaderContainer",id:"SITE_HEADER"}];function _(e){a.forEach(I,t=>{if(!a.find(e,{id:t.id})){const n=a.find(e,{componentType:t.componentType});n&&(n.id=t.id)}})}e.exports={exec(e,t,n,o,i,a,r,s){if(e.structure&&"Document"===e.structure.type){e.structure.id="masterPage",e.structure.dataQuery="#masterPage",e.structure.componentType="mobile.core.components.MasterPage",function(e){return e.masterPage&&"masterPage"===e.masterPage.id}(u=e.data.document_data)||(u.SITE_STRUCTURE?u.masterPage=u.SITE_STRUCTURE:u.masterPage=u.masterPage||{},u.masterPage.id="masterPage"),delete u.SITE_STRUCTURE;const{isExperimentOpen:t}=s;t("dm_fixMasterPageLayout")&&(c=e.structure.layout)&&(delete c.y,delete c.x,delete c.height,delete c.width),v(e),d(e),w(e)}var c,u;return e}}},function(e,t,n){"use strict";const o=n(0);e.exports=function e(t,n){o.forEach(t,t=>{o.forEach(n,e=>{e(t)}),t.components&&e(t.components,n)})}},function(e,t,n){"use strict";const o=n(0),i=n(2);function a(e){const t=o.pickBy(e,{type:"CustomMenu"}),n=o.pickBy(e,{type:"BasicMenuItem"});o.forOwn(t,(t,n)=>{delete e[n]}),o.forOwn(n,(t,n)=>{delete e[n],t.link&&delete e[i.stripHashIfExists(t.link)],t.iconRef&&delete e[i.stripHashIfExists(t.iconRef)]})}e.exports={exec:function(e,t,n,i,r,s){if(s&&function(e){return"Page"===o.get(e,"structure.type")}(e)){const{document_data:t}=e.data;a(t),o.forOwn(e.translations,e=>a(e.data.document_data))}}}},function(e,t,n){"use strict";const o=n(0),i=n(21);let a=0,r=0;function s(e,t){return o.map(e,(function(e){return function(e,t){const n="bmi"+a++,o=e[m(t.refId)];return e[n]={id:n,label:o.title,isVisible:!o.hidePage,isVisibleMobile:void 0!==o.mobileHidePage?!o.mobileHidePage:!o.hidePage,items:s(t.items,e),link:c(e,t.refId),type:"BasicMenuItem",metaData:{}},"#".concat(n)}(t,e)}))}function c(e,t){const n="pglk"+r++;return e[n]={id:n,type:"PageLink",pageId:t,metaData:{}},"#".concat(n)}function u(e,t){return t&&e[m(t)]}function p(e,t){const n=u(e,t.link);return"PageLink"===o.get(n,"type")?n:void 0}function d(e,t){return!!u(e,t)}function l(e,t){return t.link&&("#CUSTOM_MENU_HEADER"===t.link||!d(e,t.link)||function(e,t){const n=p(e,t);return n&&!u(e,n.pageId)}(e,t))}function m(e){return o.replace(e,"#","")}function y(e,t){const n=e.CUSTOM_MAIN_MENU.items,i=o(e).filter({type:"BasicMenuItem"}).map("link").compact().map(m).map(t=>e[t]).filter({type:"PageLink"}).map("pageId").compact().map(m).value(),r=o(e).filter(e=>"Page"===e.type&&e.managingAppDefId).map("id").value(),s=o.difference(t,i),u=o.difference(s,r);o.forEach(u,(function(t){e[t]&&!e[t].isPopup&&n.push(function(e,t){const n="bmi"+a++,o=e[t];return e[n]={id:n,label:o.title,isVisible:!o.hidePage,isVisibleMobile:void 0!==o.mobileHidePage?!o.mobileHidePage:!o.hidePage,items:[],link:c(e,"#".concat(t)),type:"BasicMenuItem",metaData:{}},"#".concat(n)}(e,t))}))}function g(e,t,n){o(t).filter({type:"BasicMenuItem"}).filter("link").forEach(o=>{const i=m(o.link),a=t[i]||e[i];a&&("PageLink"!==a.type||n[m(a.pageId)])||(delete t[i],delete o.link)})}function f(e,t){const n=o.filter(e,(function(e){return e.id&&0===e.id.indexOf(t)}));let i=-1;return o.forEach(n,(function(e){const n=Number(e.id.replace(t,""));n>i&&(i=n)})),++i}e.exports={exec(e,t){if(function(e){return"Page"===o.get(e,"structure.type")}(e))return void function(e){o(e.data.document_data).filter({type:"Menu"}).map("id").forEach((function(t){delete e.data.document_data[t]}))}(e);i.exec(e,t);const n=e.data.document_data;a=f(n,"bmi"),r=f(n,"pglk"),e.data.document_data.CUSTOM_MAIN_MENU||(e.data.document_data.CUSTOM_MAIN_MENU={id:"CUSTOM_MAIN_MENU",items:s(e.data.document_data.MAIN_MENU.items,e.data.document_data),name:"Custom Main Menu",type:"CustomMenu",metaData:{}}),e.data.document_data.CUSTOM_MENUS?o.includes(e.data.document_data.CUSTOM_MENUS.menus,"#CUSTOM_MAIN_MENU")||e.data.document_data.CUSTOM_MENUS.menus.push("#CUSTOM_MAIN_MENU"):e.data.document_data.CUSTOM_MENUS={id:"CUSTOM_MENUS",menus:["#CUSTOM_MAIN_MENU"],type:"CustomMenusCollection",metaData:{}},y(n,t),n.CUSTOM_MAIN_MENU.items=o.uniq(n.CUSTOM_MAIN_MENU.items),function e(t,n){n.items=o.filter(n.items,(function(e){return d(t,e)})),o.forEach(n.items,(function(n){const o=u(t,n);l(t,o)&&function(e){delete e.link}(o),e(t,o)}))}(n,n.CUSTOM_MAIN_MENU),e.data.document_data.MAIN_MENU.items.length>0&&(e.data.document_data.MAIN_MENU.items=[]);const c=e.data.document_data.CUSTOM_MAIN_MENU;(function(e,t){const n={};function i(i){const a=e.data.document_data,r=u(a,i);return!r.link||!p(a,r)||(()=>{const e=u(a,r.link),n=o.get(e,"pageId");return o.includes(t,m(n))})()&&!(()=>{const e=u(a,r.link),t=o.get(e,"pageId");return!!o.has(n,m(t))||(n[m(t)]=i,!1)})()}return{removeInvalidSubMenues:function t(n){const a=e=>{if(!o.isEmpty(e.items)){const t=o.filter(e.items,i);n.items=o.concat(n.items,t)}},r=n.items;n.items=o.filter(n.items,i);const s=o.difference(r,n.items);o.isEmpty(s)||o(s).map(t=>u(e.data.document_data,t)).forEach(a),o(n.items).map(t=>u(e.data.document_data,t)).forEach(t)}}})(e,t).removeInvalidSubMenues(c),function(e,t){const n=o.mapKeys(t);g(e.data.document_data,e.data.document_data,n),o.forOwn(e.translations,t=>g(e.data.document_data,t.data.document_data,n))}(e,t)}}},function(e,t,n){"use strict";const o=n(0),i=n(2);function a(e){return function e(t){return o.reduce(t.items,(t,n)=>(t.push(n.refId),n.items&&n.items.length?t.concat(e(n)):t),[])}(e.MAIN_MENU)}function r(e,t){const n=o.findIndex(e.items,{refId:t});if(n>=0)!function(e,t){const n=e.items[t];n.items&&n.items.length>0&&o.forEach(n.items,(t,o)=>{e.items.push(t),delete n.items[o]}),n.items=[],e.items.splice(t,1)}(e,n);else{const n=function(e,t){const n={};return o.find(e.items,(e,i)=>(n.topIndex=i,o.find(e.items,(e,o)=>{if(e.refId===t)return n.subIndex=o,!0}))),n}(e,t);e.items[n.topIndex].items.splice(n.subIndex,1)}}function s(e,t){return!e[i.stripHashIfExists(t)]}function c(e,t){const n=a(e);!function(e){const t=o.get(e,["CUSTOM_MAIN_MENU","items"]);t&&o.some(t,o.partial(s,e))&&(delete e.CUSTOM_MAIN_MENU,delete e.CUSTOM_MENUS)}(e),function(e,t){const n=e.MAIN_MENU;o.forEach(t,e=>{e||r(n,e)}),o.pull(t,"",void 0)}(e,n),function(e,t,n){o.forEach(t,t=>{o.includes(n,t.slice(1))||r(e.MAIN_MENU,t)})}(e,n,t),function(e,t,n){const i=e.MAIN_MENU,a=0===i.items.length;if(!!e.CUSTOM_MAIN_MENU){if(a)return;delete e.CUSTOM_MAIN_MENU,delete e.CUSTOM_MENUS}o.forEach(n,e=>{if(!o.includes(t,"#".concat(e))){t.push("#".concat(e));const n={items:[],refId:"#".concat(e)};i.items.push(n)}})}(e,n,t);!function(e,t){e&&e.mainPage&&!o.includes(t,i.stripHashIfExists(e.mainPage))&&(e.mainPage="#".concat(t[0]))}(e.masterPage,t)}e.exports={exec(e,t){const n=e.data.document_data;(function(e){return"Document"===o.get(e,"structure.type")})(e)&&(n.MAIN_MENU=n.MAIN_MENU||{items:[],type:"Menu",id:"MAIN_MENU",metaData:{}},t&&c(n,t))}}},function(e,t,n){"use strict";const{createHelperAndMigratePage:o}=n(3),i={"wysiwyg.common.components.verticalmenu.viewer.VerticalMenu":a,"wysiwyg.viewer.components.menus.DropDownMenu":a,"wysiwyg.viewer.components.mobile.TinyMenu":function(e,t,n,o){const i=this.getComponentData(e,o);i&&"TinyMenu"===i.type||(delete o.dataQuery,this.setComponentData(e,o,{menuRef:"#CUSTOM_MAIN_MENU",type:"TinyMenu"},t))}};function a(e,t,n,o){const i=this.getComponentData(e,o);i&&"CustomMenuDataRef"===i.type||(delete o.dataQuery,this.setComponentData(e,o,{menuRef:"#CUSTOM_MAIN_MENU",type:"CustomMenuDataRef"},t))}e.exports={exec:o(i)}},function(e,t,n){"use strict";const o=n(4),i={"mobile.core.skins.InlineSkin":"skins.core.VerySimpleSkin","mobile.core.skins.TwitterTweetSkin":"skins.core.TwitterTweetSkin","mobile.core.skins.ButtonSkin":"skins.core.ButtonSkin","mobile.core.skins.ContactItemSkin":"skins.core.ContactItemSkin","mobile.core.skins.ContactListSkin":"skins.core.ContactListSkin","mobile.core.skins.FacebookCommentSkin":"skins.core.FacebookCommentSkin","mobile.core.skins.GlobalMenuSkin":"skins.core.GlobalMenuSkin","mobile.core.skins.GooglePlusOneSkin":"skins.core.GooglePlusOneSkin","mobile.core.skins.HeaderSkin":"skins.core.HeaderSkin","mobile.core.skins.HomeButtonSkin":"skins.core.HomeButtonSkin","mobile.core.skins.ImageNewSkin":"skins.core.ImageNewSkin","mobile.core.skins.ImageSkin":"skins.core.ImageSkin","mobile.core.skins.MenuButtonSkin":"skins.core.MenuButtonSkin","mobile.core.skins.NetworkItemSkin":"skins.core.NetworkItemSkin","mobile.core.skins.NetworkListSkin":"skins.core.NetworkListSkin","mobile.core.skins.PageTitleSkin":"skins.core.PageTitleSkin","mobile.core.skins.PhotoFullScreenSkin":"skins.core.PhotoFullScreenSkin","mobile.core.skins.PhotoGalleryFullScreenDefaultSkin":"skins.core.PhotoGalleryFullScreenDefaultSkin","mobile.core.skins.PhotoGalleryGridDefaultSkin":"skins.core.PhotoGalleryGridDefaultSkin","mobile.core.skins.PhotoSkin":"skins.core.PhotoSkin","mobile.core.skins.RichTextImageSkin":"skins.core.RichTextImageSkin","mobile.core.skins.RichTextSkin":"skins.core.RichTextSkin","mobile.core.skins.ServiceItemSkin":"skins.core.ServiceItemSkin","mobile.core.skins.ServiceListSkin":"skins.core.ServiceListSkin","mobile.core.skins.SimpleButtonSkin":"skins.core.SimpleButtonSkin","mobile.core.skins.SiteNavigationMenuSkin":"skins.core.SiteNavigationMenuSkin","mobile.core.skins.TwitterFollowSkin":"skins.core.TwitterFollowSkin","mobile.core.skins.FacebookLikeSkin":"skins.core.FacebookLikeSkin","skins.viewer.gallerymatrix.PolaroidCustomHeightSkin":"wysiwyg.viewer.skins.gallerymatrix.PolaroidCustomHeightSkin","skins.viewer.gallerymatrix.PolaroidDisplayerCustomHeightSkin":"wysiwyg.viewer.skins.gallerymatrix.PolaroidDisplayerCustomHeightSkin","skins.viewer.gallerymatrix.TextBottomCustomHeightSkin":"wysiwyg.viewer.skins.gallerymatrix.TextBottomCustomHeightSkin","skins.viewer.gallerymatrix.TextBottomDisplayerCustomHeightSkin":"wysiwyg.viewer.skins.gallerymatrix.TextBottomDisplayerCustomHeightSkin","skins.viewer.galleryslider.SliderGalleryScotchTapeSkin":"wysiwyg.viewer.skins.galleryslider.SliderGalleryScotchTapeSkin","skins.viewer.galleryslider.SliderGalleryIronSkin":"wysiwyg.viewer.skins.galleryslider.SliderGalleryIronSkin","skins.viewer.galleryslider.SliderDisplayerIronSkin":"wysiwyg.viewer.skins.galleryslider.SliderDisplayerIronSkin","skins.viewer.galleryslider.SliderDisplayerScotchTapeSkin":"wysiwyg.viewer.skins.galleryslider.SliderDisplayerScotchTapeSkin","wysiwyg.viewer.skins.gallerymatrix.MatrixGallerySeparateTextBoxSkin":"wysiwyg.common.components.matrixgallery.viewer.skins.MatrixGallerySeparateTextBoxSkin","wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryTextOnCenterSkin":"wysiwyg.common.components.matrixgallery.viewer.skins.MatrixGalleryTextOnCenterSkin","wysiwyg.viewer.skins.dropmenu.TextOnlyMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.TextOnlyMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.TextSeparatorsMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.TextSeparatorsMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.SolidColorMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SolidColorMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.ShinyMenuINSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.ShinyMenuIButtonSkin","wysiwyg.viewer.skins.dropmenu.ShinyMenuIINSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.ShinyMenuIIButtonSkin","wysiwyg.viewer.skins.dropmenu.OverlineMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.OverlineMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.SeparateBasicMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SeparateBasicMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.SeparateShinyIMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SeparateShinyIMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.SeparateShinyIIMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SeparateShinyIIMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.LinesMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.LinesMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.SeparateLinesMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SeparateLinesMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.PointerMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.PointerMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.RibbonsMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.RibbonsMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.VerticalRibbonsMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.VerticalRibbonsMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.IndentedMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.IndentedMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.SeparateIndentedMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SeparateIndentedMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.ArrowRightMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.ArrowRightMenuButtonSkin","wysiwyg.viewer.skins.dropmenu.SloppyBorderMenuNSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SloppyBorderMenuButtonSkin","wysiwyg.viewer.skins.menu.ShinyMenuISkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.ShinyMenuIIButtonSkin","wysiwyg.viewer.skins.menu.ShinyMenuIISkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.ShinyMenuIIButtonSkin","wysiwyg.viewer.skins.menu.TextOnlyMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.TextOnlyMenuButtonBgFixSkin","wysiwyg.viewer.skins.menu.TextSeparatorsMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.TextSeparatorsMenuButtonSkin","wysiwyg.viewer.skins.menu.SolidColorMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SolidColorMenuButtonSkin","wysiwyg.viewer.skins.menu.OverlineMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.OverlineMenuButtonHorizontalMenuAdaptationSkin","wysiwyg.viewer.skins.menu.SeparateBasicMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SeparateBasicMenuButtonSkin","wysiwyg.viewer.skins.menu.SeparateShinyIMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SeparateShinyIMenuButtonSkin","wysiwyg.viewer.skins.menu.SeparateShinyIIMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SeparateShinyIIMenuButtonBorderRadiusFixSkin","wysiwyg.viewer.skins.menu.LinesMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.LinesMenuButtonBorderRadiusFixSkin","wysiwyg.viewer.skins.menu.SeparateLinesMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SeparateLinesMenuButtonHorizontalMenuAdaptationSkin","wysiwyg.viewer.skins.menu.PointerMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.PointerMenuButtonHorizontalMenuAdaptationSkin","wysiwyg.viewer.skins.menu.RibbonsMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.RibbonsMenuButtonSkin","wysiwyg.viewer.skins.menu.IndentedMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.IndentedMenuButtonSkin","wysiwyg.viewer.skins.menu.SeparateIndentedMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SeparateIndentedMenuButtonSkin","wysiwyg.viewer.skins.menu.ArrowRightMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.ArrowRightMenuButtonSkin","wysiwyg.viewer.skins.menu.SloppyBorderMenuSkin":"wysiwyg.common.components.dropdownmenu.viewer.skins.SloppyBorderMenuButtonSkin","tpa.viewer.skins.TPAMasonrySkin":"wysiwyg.viewer.skins.TPAMasonrySkin","tpa.viewer.skins.TPA3DCarouselSkin":"wysiwyg.viewer.skins.TPA3DCarouselSkin","tpa.viewer.skins.TPA3DGallerySkin":"wysiwyg.viewer.skins.TPA3DGallerySkin","tpa.viewer.skins.TPAAccordionSkin":"wysiwyg.viewer.skins.TPAAccordionSkin","tpa.viewer.skins.TPACollageSkin":"wysiwyg.viewer.skins.TPACollageSkin","tpa.viewer.skins.TPAEcomGallerySkin":"wysiwyg.viewer.skins.TPAEcomGallerySkin","tpa.viewer.skins.TPAFreestyleSkin":"wysiwyg.viewer.skins.TPAFreestyleSkin","tpa.viewer.skins.TPAHoneycombSkin":"wysiwyg.viewer.skins.TPAHoneycombSkin","tpa.viewer.skins.TPAImpressSkin":"wysiwyg.viewer.skins.TPAImpressSkin","tpa.viewer.skins.TPAStripShowcaseSkin":"wysiwyg.viewer.skins.TPAStripShowcaseSkin","tpa.viewer.skins.TPAStripSlideshowSkin":"wysiwyg.viewer.skins.TPAStripSlideshowSkin","tpa.viewer.skins.TPAThumbnailsSkin":"wysiwyg.viewer.skins.TPAThumbnailsSkin","tpa.common.skins.TPAPreloaderSkin":"wysiwyg.viewer.skins.TPAPreloaderSkin","tpa.common.skins.TPAUnavailableMessageOverlaySkin":"wysiwyg.viewer.skins.TPAUnavailableMessageOverlaySkin"};function a(e){e.skin&&i[e.skin]&&(e.skin=i[e.skin])}function r(e,t){let n,o;const i=e[t]||e.components;if(i)for(n=0;n<i.length;n++)o=i[n],a(o),r(o,t)}e.exports={exec(e){const t=e.structure;t&&(r(t,"children"),r(t,"mobileComponents"),a(t));const n=e.data&&e.data.theme_data;n&&o.forEachStyle(n,e=>{a(e)})}}},function(e,t,n){"use strict";const o=n(0),i=n(4);function a(e,t,n){return e[n.replace("llt_","llf_")]=t,e}function r(e){e.style.properties=o.reduce(e.style.properties,a,{}),e.style.propertiesSource=o.reduce(e.style.propertiesSource,a,{})}const s={"*"(e){"THEME_DATA"!==e.id&&(e.style||(e.style={properties:{},propertiesSource:{},groups:{}}))},"wysiwyg.common.components.subscribeform.viewer.skins.SubscribeFormLineLayoutFlat":r,"wysiwyg.common.components.subscribeform.viewer.skins.SubscribeFormLineLayoutTransparentWithIcon":r};e.exports={exec(e){const t=e.data&&e.data.theme_data;e.structure&&"Document"===e.structure.type&&(!function(e){if(!e.v2){const t={type:"TopLevelStyle",id:"v2",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{properties:{brd:"color_15",brw:"0px",rd:"0px",shd:"0 1px 4px rgba(0, 0, 0, 0.6);"},propertiesSource:{brd:"theme",brw:"value",rd:"value",shd:"value"},groups:{}},componentClassName:"",pageId:"",compId:"",styleType:"system",skin:"wysiwyg.viewer.skins.video.VideoDefault"};e.v2=o.cloneDeep(e.vl)||t}}(t),function(e){i.forEachStyle(e,e=>{s["*"](e),s[e.skin]&&s[e.skin](e)})}(t),o.forEach(t,e=>{!function(e){e.style&&o.forEach(e.style.properties,(e,t,n)=>{"string"==typeof e&&(n[t]=e.replace(/(\d)x/g,"$1px"))})}(e)}))}}},function(e,t,n){"use strict";const o=n(0),{stripHashIfExists:i}=n(2);function a(e){return e&&"wysiwyg.viewer.components.BgImageStrip"===e.componentType}function r(e,t,n){if(a(n)){const o=function(e){return e&&e.dataQuery&&i(e.dataQuery)}(n),a=o&&t[o];a&&(a.title=a.title||"",function(e){return"add_image_thumb.png"===e.uri.slice(0-"add_image_thumb.png".length)}(a)||(e[n.id]=o))}}function s(e,t,n){if(a(n)){const t=e[n.id];t?n.dataQuery="#".concat(t):delete n.dataQuery}}function c(e,t){o.forEach(e,e=>{t(e),c(e.components,t)})}e.exports={exec(e){const{structure:t}=e,n=t&&(t.components||t.children),o=t&&t.mobileComponents;if(n){const t={};c(n,r.bind(null,t,e.data.document_data)),c(n,s.bind(null,t,e.data.document_data)),c(o,s.bind(null,t,e.data.document_data))}}}},function(e,t,n){"use strict";const o=n(0),{stripHashIfExists:i}=n(2);function a(e,t){"wysiwyg.viewer.components.ItunesButton"===t.componentType&&(t.layout.height=Math.round(t.layout.width/2.75))}function r(e,t){return e.data.component_properties[t.propertyQuery]}function s(e,t){return t.dataQuery&&e.data.document_data[i(t.dataQuery)]}function c(e,t,n){e.data.component_properties[t.propertyQuery]=n}function u(e,t,n,o){const i=o.getUniqueId("dataItem","-");t.dataQuery="#".concat(i),n.id=i,e.data.document_data[i]=n}function p(e){if(e.components.length>0){const t=o.map(e.components,e=>e.layout.y+e.layout.height);return o.max(t)}return 0}function d(e){const t=o.find(e.structure.children,{id:"PAGES_CONTAINER"});return t.layout.y+t.layout.height}function l(e,t){"SITE_FOOTER"!==t.id||t.layout||(t.layout={anchors:[],fixedPosition:!1,height:p(t),rotationInDegrees:0,scale:1,width:320,x:0,y:d(e)})}function m(e,t,n){if(!s(e,t))switch(t.componentType){case"wysiwyg.viewer.components.svgshape.SvgShape":u(e,t,{link:null,type:"SvgShape"},n);break;case"wysiwyg.viewer.components.WFacebookComment":return void u(e,t,{type:"WFacebookComment",urlFormat:"hashBang"},n);case"wysiwyg.viewer.components.WFacebookLike":return void u(e,t,{type:"WFacebookLike",urlFormat:"hashBang"},n)}}function y(e,t){const n=s(e,t);if(n)switch(t.componentType){case"wysiwyg.viewer.components.ClipArt":return void(n.title="");case"wysiwyg.viewer.components.FacebookShare":case"wysiwyg.viewer.components.VKShareButton":case"wysiwyg.common.components.pinterestpinit.viewer.PinterestPinIt":case"wysiwyg.viewer.components.WTwitterTweet":case"wysiwyg.viewer.components.WFacebookComment":case"wysiwyg.viewer.components.WFacebookLike":return void(n.urlFormat=n.urlFormat||"hashBang")}}function g(e,t,n){"wysiwyg.common.components.anchor.viewer.Anchor"===n.componentType&&(n.skin="AutoWidthAnchorSkin",delete n.styleId,e?n.layout.width=e:n.layout.docked={left:{vw:0,px:0},right:{vw:0,px:0}})}function f(e,t){if(!r(e,t))switch(t.componentType){case"wysiwyg.viewer.components.menus.DropDownMenu":c(e,t,{alignButtons:"center",alignText:"center",sameWidthButtons:!1,moreButtonLabel:"More",moreItemHeight:15,stretchButtonsToMenuWidth:!0,type:"HorizontalMenuProperties"});break;case"wysiwyg.viewer.components.mobile.TinyMenu":{const n="TINY_MENU";t.propertyQuery=n,c(e,t,{direction:"left",type:"TinyMenuProperties",id:n,metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1}});break}}}function w(e,t,n){e.properties[n.id]=r(t,n)}function h(e,t,n){!r(t,n)&&e.properties[n.id]&&c(t,n,e.properties[n.id])}function S(e,t){const n=r(e,t);if(t.propertyQuery&&n)switch(t.componentType){case"wysiwyg.viewer.components.WFacebookLike":case"wysiwyg.viewer.components.PayPalButton":case"wysiwyg.viewer.components.GoogleMap":n.language||(n.language="en");break;case"wysiwyg.viewer.components.WRichText":"WRichTextProperties"!==n.type?delete t.propertyQuery:0===n.minHeight&&(n.packed=!0)}}function k(e,t,n){o.forEach(t,t=>{o.forEach(n,n=>{n(e,t)}),t.components&&k(e,t.components,n)})}function b(e,t,n){e.pageContainsStructuresWithoutJsonAnchors=e.pageContainsStructuresWithoutJsonAnchors||!n.layout||!n.layout.anchors}function T(e,t){t.layout&&delete t.layout.anchors}e.exports={exec(e,t,n,i,r,s,c,u){const p=e.structure;if(p){const t={properties:{}},n=p.components||p.children,i=p.mobileComponents,{uniqueIdGenerator:r}=u.dataFixerUtils;n&&function(e,t,n,i){k(e,n,[a,o.partial(m,o,o,i),f,S,y,o.partial(g,null),o.partial(w,t)])}(e,t,n,r),i&&function(e,t,n,i){const r={pageContainsStructuresWithoutJsonAnchors:!1};k(e,n,[a,o.partial(m,o,o,i),f,S,y,l,o.partial(g,320),o.partial(h,t),o.partial(b,r)]),r.pageContainsStructuresWithoutJsonAnchors&&k(e,n,[T])}(e,t,i,r)}}}},function(e,t,n){"use strict";const o=n(0),i=["GalleryExpandProperties","MatrixGalleryProperties","PaginatedGridGalleryProperties","SliderGalleryProperties","SlideShowGalleryProperties"];function a(e){return(o.isUndefined(e.galleryImageOnClickAction)||"unset"===e.galleryImageOnClickAction)&&(!1===e.expandEnabled?e.galleryImageOnClickAction="disabled":e.galleryImageOnClickAction="zoomMode"),e}e.exports={exec(e){var t,n,r;t=e.data.component_properties,n=i,r=a,o(t).pickBy(e=>o.includes(n,e.type)).mapValues(r).value()}}},function(e,t,n){"use strict";const o=n(0),i=n(29);function a(e){return["behaviors_data",e.behaviorQuery,"items"]}function r(e){return o.has(e,"behaviors_data")}function s(e,t,n){const i=JSON.stringify(e);r(n)?o.set(n,a(t),i):t.behaviors=i}function c(e,t){const n=[],i=function(e,t){return r(t)?o.get(t,a(e),"[]"):e.behaviors||"[]"}(e,t),c=JSON.parse(i),u=o.isArray(c),p=u?o.compact(c):c;if(o.isEmpty(p))r(t)?(o.unset(t,["behaviors_data",e.behaviorQuery]),delete e.behaviorQuery):delete e.behaviors;else{if(u){let n=p.length!==c.length;return o.forEach(c,t=>{const i=o.get(t,"action.sourceId");i&&i!==e.id&&(t.action.sourceId=e.id,n=!0)}),void(n&&s(p,e,t))}o.forEach(c,(e,t)=>{o.forEach(e,(e,i)=>{o.forEach(e,e=>{const a=o.assign({targetId:i,action:t},e);"screenIn"!==t&&"pageIn"!==t||(a.targetId=""),n.push(a)})})}),s(n,e,t)}}function u(e,t){o.forEach(e,e=>{c(e,t),e.components&&u(e.components,t)})}e.exports={exec(e,t,n,o,a,r,s,c){i.exec(e,t,n,o,a,r,s,c);const p=e.structure;p&&(p.components&&u(p.components,e.data),p.mobileComponents&&u(p.mobileComponents,e.data),p.children&&u(p.children,e.data))}}},function(e,t,n){"use strict";const o=n(0),i=n(1),a=n(7);e.exports={exec:function(e,t,n,r,s,c,u,p){const d=o.get(e,"data"),l=o.get(e,"structure");d.behaviors_data=d.behaviors_data||{};const m=function(e){const t=i.dataUtils.getAllCompsInStructure(e,!1);return o.pickBy(t,"behaviors")}(l),y=function(e,t){const n=i.dataUtils.getAllCompsInStructure(e,!0);return o.pickBy(n,e=>t[e.id])}(l,m),{uniqueIdGenerator:g}=p.dataFixerUtils;o.forEach(m,e=>{const t=a.createBehaviorsDataItem(e.behaviors,g);!function(e,t,n){e.behaviorQuery=t.id,n&&(n.behaviorQuery=e.behaviorQuery)}(e,t,y[e.id]),delete e.behaviors,o.set(d,["behaviors_data",t.id],t)})}}},function(e,t,n){"use strict";const o=n(0);e.exports={exec(e){const t=o.get(e,"data");t.connections_data=t.connections_data||{}}}},function(e,t,n){"use strict";const o=n(0),i={"wysiwyg.viewer.skins.line.FadeLine":{width:90},"wysiwyg.viewer.skins.line.FadeNotchBottomLine":{width:60},"wysiwyg.viewer.skins.line.FadeNotchTopLine":{width:60},"wysiwyg.viewer.skins.line.ShadowBottomLine":{width:200},"wysiwyg.viewer.skins.line.ShadowTopLine":{width:200}};function a(e){o.forEach(e,e=>{if(o.has(i,e.skin)){const t=i[e.skin];e.layout=o.mapValues(e.layout,(e,n)=>t[n]?Math.max(e,t[n]):e)}e.components&&a(e.components)})}e.exports={exec(e){const t=e.structure;t&&(t.components&&a(t.components),t.children&&a(t.children),t.mobileComponents&&a(t.mobileComponents))}}},function(e,t,n){"use strict";function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{constants:r}=n(1),s=n(0),c=n(2),u=e=>c.stripHashIfExists(e);function p(e,t,n){const o=s.get(e,["componentLayout","rotationInDegrees"]);t.layout_data[e.id]=s.omit(e,["componentLayout.rotationInDegrees"]);const a=n(),r=c.transformations.createTransformationWithRotate(a,o);return t.transformations_data=i(i({},t.transformations_data),{},{[a]:r}),a}function d(e,t,n){const o=t.layout_data;s.forEach(e,e=>{if(e.layoutQuery){const a=o[u(e.layoutQuery)],r=[];if(s.forEach(a.values,e=>{const a=o[u(e)];if(a.componentLayout&&a.componentLayout.rotationInDegrees){const e=p(a,t,n);r.push("#".concat(e))}else if(c.variantRelation.isVariantRelation(a)&&o[u(a.to)]){const e=o[u(a.to)];if(e.componentLayout&&e.componentLayout.rotationInDegrees){const o=p(e,t,n),s=n(),u=c.variantRelation.create({id:s,variants:a.variants,from:a.from,scopedDataId:o});t.transformations_data=t.transformations_data=i(i({},t.transformations_data),{},{[s]:u}),r.push("#".concat(s))}}}),r.length){const o=n(),a=i({id:o},c.refArray.create(r));t.transformations_data=i(i({},t.transformations_data),{},{[o]:a}),e.transformationQuery=o}}e.components&&d(e.components,t,n),e.children&&d(e.children,t,n),e.mobileComponents&&d(e.mobileComponents,t,n)})}e.exports={exec(e,t,n,o,i,a,s,c){const{isExperimentOpen:u,dataFixerUtils:p}=c;if(e.data.layout_data&&(u("bv_moveRotationToTransformation")||u("specs.thunderbolt.moveRotationToTransformations"))){const t=e.structure,n=e.data,o=()=>p.uniqueIdGenerator.getUniqueId(r.DATA_TYPES.transformations,"_");if(!t)return;t.components&&d(t.components,n,o),t.children&&d(t.children,n,o),t.mobileComponents&&d(t.mobileComponents,n,o)}}}},function(e,t,n){"use strict";const o=n(0);function i(e,t,n){o.forOwn(t,t=>{"GeoMap"!==t.type||o.get(t,"locations")||function(e,t,n){const i=n.dataFixerUtils.uniqueIdGenerator.getUniqueId("dataItem","-");t.locations=["#".concat(i)],t.defaultLocation=0,e.data.document_data[t.id]=o.omit(t,"address","addressInfo","latitude","longitude"),e.data.document_data[i]={id:i,address:t.address,latitude:t.latitude,longitude:t.longitude,title:t.addressInfo,description:"",link:null,linkTitle:"",pinIcon:"https://static.parastorage.com/services/santa-resources/resources/editor/designPanel/panelTypes/default_pin_icon.png",pinColor:"",type:"GeoMapLocation"}}(e,t,n)})}function a(e,t){o.forOwn(t,e=>{"GoogleMapProperties"===e.type&&isNaN(e.zoom)&&function(e,t){t.zoom=14}(0,e)})}e.exports={exec(e,t,n,o,r,s,c,u){const p=e.data.document_data,d=e.data.component_properties;p&&(i(e,p,u),a(0,d))}}},function(e,t,n){"use strict";const o=n(0);e.exports={exec(e){const t=e.data.document_data;t&&o(t).filter({type:"Page"}).forEach(e=>{"1.0"===o.get(e.metaData,"schemaVersion")&&(function(e){return e.isLandingPage&&!e.isMobileLandingPage}(e)&&function(e){e.isMobileLandingPage=!0}(e),o.set(e.metaData,"schemaVersion","2.0"))})}}},function(e,t,n){"use strict";const o=n(0);e.exports={exec(e){const t=e.structure;if(t&&t.components&&!o.isEmpty(t.components)&&function(e){const t=o.head(e);return!!o.get(t,"layout.anchors")}(t.components)){const n=o.maxBy(t.components,e=>{let t=-1*Number.MAX_VALUE;return e.layout&&o.isNumber(e.layout.y)&&o.isNumber(e.layout.height)&&(t=e.layout.y+e.layout.height),t});let i;n.layout&&n.layout.anchors&&(i=o.find(n.layout.anchors,{type:"BOTTOM_PARENT"})),i||(n.layout=n.layout||{},n.layout.anchors=n.layout.anchors||[],n.layout.anchors.push({distance:0,type:"BOTTOM_PARENT",targetComponent:e.structure.id,locked:!0,originalValue:e.structure.layout.height,topToTop:n.layout.y}))}}}},function(e,t,n){"use strict";const o=n(0),i=n(8),a={"wysiwyg.common.components.anchor.viewer.Anchor":!0,"wysiwyg.common.components.subscribeform.viewer.SubscribeForm":!0,"wysiwyg.common.components.pinitpinwidget.viewer.PinItPinWidget":!0,"wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer":!0,"wixapps.integration.components.AppPart":!0,"wixapps.integration.components.AppPart2":!0,"wixapps.integration.components.common.minipart":!0,"wysiwyg.common.components.onlineclock.viewer.OnlineClock":!0,"wysiwyg.common.components.weather.viewer.Weather":!0,"wysiwyg.common.components.skypecallbutton.viewer.SkypeCallButton":!0,"wysiwyg.common.components.spotifyfollow.viewer.SpotifyFollow":!0,"wysiwyg.common.components.spotifyplayer.viewer.SpotifyPlayer":!0,"wysiwyg.common.components.youtubesubscribebutton.viewer.YouTubeSubscribeButton":!0,"wysiwyg.viewer.components.ContactForm":!0,"wysiwyg.viewer.components.FacebookShare":!0,"wysiwyg.viewer.components.FiveGridLine":!0,"wysiwyg.viewer.components.FlickrBadgeWidget":!0,"wysiwyg.viewer.components.ItunesButton":!0,"wysiwyg.viewer.components.LinkBar":!0,"wysiwyg.viewer.components.PayPalButton":!0,"wysiwyg.viewer.components.PinterestFollow":!0,"wysiwyg.viewer.components.VKShareButton":!0,"wysiwyg.viewer.components.WFacebookComment":!0,"wysiwyg.viewer.components.WGooglePlusOne":!0,"wysiwyg.viewer.components.mobile.TinyMenu":!0},r={"wysiwyg.common.components.backtotopbutton.viewer.BackToTopButton":!0,"wysiwyg.viewer.components.tpapps.TPAGluedWidget":!0,"mobile.core.components.Page":!0,"wixapps.integration.components.AppPage":!0};function s(e){r[e.componentType]&&(e.layout.anchors=[])}function c(e){return e.layout&&e.layout.y+e.layout.height}function u(e){return e.layout&&e.layout.anchors||[]}function p(e,t,n){if("BOTTOM_TOP"!==e.type)return;const i=u(n[e.targetComponent]);o.remove(i,{targetComponent:t.id});const a=o.filter(i,{type:"TOP_TOP"}),r=c(t)+10;o.forEach(a,e=>{n[e.targetComponent]&&function e(t,n,i,a,r){if(r[t.id]||c(t)>i)return;r[t.id]=!0;const s=u(t);o.remove(s,t=>{if(t.targetComponent===n.id)return!0;if("BOTTOM_PARENT"!==t.type){if(!a[t.targetComponent])return!0;e(a[t.targetComponent],n,i,a,r)}return!1})}(n[e.targetComponent],t,r,n,{})})}function d(e,t,n){const i=t.id;let s,c=n[e.targetComponent];if("BOTTOM_PARENT"===e.type&&(c=e.targetComponent===i?t:null),!c)return!1;if("BOTTOM_BOTTOM"===e.type&&a[c.componentType])return!1;if("BOTTOM_PARENT"!==e.type&&(r[c.componentType]||"wysiwyg.viewer.components.HeaderContainer"===c.componentType&&c.layout&&!0===c.layout.fixedPosition))return!1;if(c.layout&&o.isNumber(c.layout.height)&&o.isNumber(c.layout.y)){const t=c.layout,n=function(e,t,n){const o=(n||0)*Math.PI/180;return parseInt(Math.abs(t*Math.sin(o))+Math.abs(e*Math.cos(o)),10)}(t.height,t.width,t.rotationInDegrees),o=(u=t.y,p=t.height,parseInt(u-(n-p)/2,10));s="BOTTOM_PARENT"===e.type||"BOTTOM_BOTTOM"===e.type?n:o}else s=0;var u,p;return e.originalValue=Math.min(e.originalValue,s),!0}function l(e,t){return function(e,t){!!t&&s(e)}(e,t),function e(t,n){const i=n?t[n]:t.components;if(o.isEmpty(i))return;const a=o.transform(i,(e,t)=>{e[t.id]=t},{});(function(e){o.forEach(e,t=>{let n=u(t);n=o.reject(n,{type:"BOTTOM_PARENT"}),o.remove(n,t=>!o.some(e,{id:t.targetComponent}))})})(i),o.forEach(i,n=>{const i=u(n);!function(e){o.remove(e,e=>null===e.distance||isNaN(e.distance))}(i),s(n),function(e,t){"Document"===e.type&&o.forEach(t,e=>{"SITE_STRUCTURE"===e.targetComponent&&(e.targetComponent="masterPage")})}(t,i),function(e,t,n){t=o.reject(t,{type:"BOTTOM_PARENT"}),o.forEach(t,t=>{const i=n[t.targetComponent];if(!i)return;const a=o.filter(u(i),{targetComponent:e.id,type:t.type});o.forEach(a,n=>{const a=e.layout.y<i.layout.y?i:e,r=e.layout.y<i.layout.y?n:t;o.remove(a.layout.anchors,e=>e===r)})})}(n,i,a),o.remove(i,e=>{!function(e){"TOP_TOP"===e.type&&(e.locked=!0)}(e);const o=d(e,t,a);return o&&p(e,n,a),!o}),e(n)})}(e,t)}function m(e){const t=o.head(e);return!!o.get(t,"layout.anchors")}e.exports={exec(e){let t=e.structure,n="components";t&&("Document"===t.type&&(t=o.clone(e.structure),t.id="masterPage",e.structure=t,n="children"),m(t[n])&&l(t,n),m(t.mobileComponents)&&(l(t,"mobileComponents"),i.fixBottomTopBottomBottomCycles(t.mobileComponents)))}}},function(e,t,n){"use strict";const o=n(0);function i(e){if(!e.rotationInDegrees)return e.height;const t=e.rotationInDegrees*Math.PI/180;return parseInt(Math.abs(e.width*Math.sin(t))+Math.abs(e.height*Math.cos(t)),10)}function a(e){if(!e.rotationInDegrees)return e.y;const t=i(e);return parseInt(e.y-(t-e.height)/2,10)}function r(e){return o.maxBy(e,e=>a(e.layout))}function s(e){if(e&&!o.isEmpty(e)&&((t=e).length&&t[0].layout&&t[0].layout.anchors)){const t=function(e){const t={};return o.forEach(e,e=>{switch(e.id){case"SITE_HEADER":return t.header=e,!(t.footer&&t.pagesContainer);case"SITE_FOOTER":return t.footer=e,!(t.header&&t.pagesContainer);case"PAGES_CONTAINER":return t.pagesContainer=e,!(t.header&&t.footer);default:return!0}}),t}(e);!function(e){const{pagesContainer:t}=e,{header:n}=e;t&&n&&(o.remove(t.layout.anchors,{targetComponent:"SITE_HEADER",type:"TOP_TOP"}),o.remove(n.layout.anchors,{targetComponent:"PAGES_CONTAINER",type:"TOP_TOP"}))}(t),function(e,t){const{pagesContainer:n}=t,{header:s}=t,{footer:c}=t,u=n&&n.components&&o.find(n.components,{id:"SITE_PAGES"});if(!u||!u.layout||u.layout.anchors&&0!==u.layout.anchors.length||(u.layout.anchors=[{distance:0,locked:!0,originalValue:0,targetComponent:"PAGES_CONTAINER",type:"BOTTOM_PARENT"}]),n&&n.layout&&(!n.layout.anchors||0===n.layout.anchors.length)&&c&&c.layout&&!c.layout.fixedPosition&&(n.layout.anchors=[{distance:10,locked:!0,originalValue:0,targetComponent:"SITE_FOOTER",type:"BOTTOM_TOP"}]),s){if(!o.find(e,e=>o.find(e.layout.anchors,{type:"BOTTOM_PARENT",targetComponent:"masterPage"}))){const t=r(e);if(!t.layout.anchors)return;t.layout.anchors.push({distance:0,locked:!0,originalValue:a(t.layout)+i(t.layout)+(s?i(s.layout):0),targetComponent:"masterPage",type:"BOTTOM_PARENT"})}}}(e,t)}var t}e.exports={exec(e){const t=e.structure;t&&"Document"===t.type&&(s(t.children),s(t.mobileComponents))},test:{getBoundingHeight:i,getBoundingY:a,getLowestComp:r}}},function(e,t,n){"use strict";const o=n(0);function i(e){o.isEmpty(e.components)||(e.components=[])}function a(e){e.layout&&(e.layout.y=0)}e.exports={exec(e){if(e.structure&&"Document"===e.structure.type){const t=function(e){let t;if(e.structure.children){const n=o.find(e.structure.children,{id:"PAGES_CONTAINER"});n&&!o.isEmpty(n.components)&&(t=o.find(n.components,{id:"SITE_PAGES"}))}return t}(e),n=function(e){let t;if(e.structure.mobileComponents){const n=o.find(e.structure.mobileComponents,{id:"PAGES_CONTAINER"});n&&!o.isEmpty(n.components)&&(t=o.find(n.components,{id:"SITE_PAGES"}))}return t}(e);t&&(i(t),a(t)),n&&(i(n),a(n))}return e}}},function(e,t,n){"use strict";const o=n(0),i=n(1);e.exports={exec(e,t,n,a,r,s,c,u){const p={toFix:["FlashComponent","SiteButton","Image"],newNames:["LinkableFlashComponent","LinkableButton","Image"],originalLink:["TextLink","Link"]},d=["href","text","target","icon","linkType"],l={oldValues:["same","other"],newValues:["_self","_blank"]};function m(e,t,n){const a=(e.linkType||"").toLowerCase(),r=t?n.getUniqueId():e.id;switch(a){case"page":return function(e,t){const n={};n.id=e,n.type="PageLink";let o=t.href;if(!o)return null;let i=o.lastIndexOf("/");i<0&&(i=o.lastIndexOf("|"));return o=o.substr(i+1),n.pageId=y(o),n}(r,e);case"website":return function(e,t){const n={};n.id=e,n.type="ExternalLink",n.target=function(e){let t;const n=o.indexOf(l.oldValues,e);t=o.includes(l.newValues,e)?e:-1!==n?l.newValues[n]:l.newValues[1];return t}(t.target);const i=t.href;if(!i)return null;return n.url=i,n}(r,e);case"email":return function(e,t){const n={};n.id=e,n.type="EmailLink";let o=t.href;if(!o||!o.toLowerCase)return null;i.stringUtils.startsWith(o,"mailto:",!0)&&(o=o.substr("mailto:".length));const a=o.split("?");if(n.recipient=a[0],a[1]){const e=function(e){const t={},n=/([^&=]+)=([^&]*)/g;let o;for(;o=n.exec(e);)t[o[1]]=o[2];return t}(a[1]);e.subject&&(n.subject=e.subject),e.body&&(n.body=e.body)}return n}(r,e);case"document":return function(e,t){const n={};let o;n.type="DocumentLink",n.id=e;const i=t.href;if(!i)return null;o=i.substr(i.lastIndexOf("/")+1);const a=o.indexOf("?dn=");-1!==a&&(o=o.substring(0,a));return n.docId=o,n.name=t.text,n}(r,e);case"login":return function(e,t){const n={};n.id=e,n.type="LoginToWixLink";let o=t.text;o&&i.stringUtils.startsWith(o,"{")&&(o=JSON.parse(o),n.postLoginUrl=o.postLoginUrl,n.postSignupUrl=o.postSignupUrl,n.dialog=o.type);return n}(r,e);case"admin_login":case"free_link":case"":default:return null}}function y(e){return e?e&&i.stringUtils.startsWith(e,"#")?e:"#".concat(e):null}const{data:g}=e,f=g.document_data,w={},{uniqueIdGenerator:h}=u.dataFixerUtils;let S;var k;k=f,S=o.filter(k,e=>{const t=!(e.type===p.toFix[2])||"2.0"!==e.metaData.schemaVersion;return!e.link&&o.includes(p.toFix,e.type)&&t}),o.forEach(S,e=>{const t=function(e,t){const n=o.indexOf(p.toFix,e.type),i=p.newNames[n],a=o.defaults({type:i},o.omit(e,d)),r=m(e,!0,t);return r&&(a.link=y(r.id),w[r.id]=r),e.type===a.type&&(a.metaData.schemaVersion="2.0"),a}(e,h);t&&(f[e.id]=t)}),S=function(e){return o.filter(e,e=>e.linkType&&o.includes(p.originalLink,e.type))}(f),o.forEach(S,e=>{const t=m(e,!1,h);t&&(f[e.id]=t)}),o.assign(f,w)}}},function(e,t,n){"use strict";e.exports={exec(e){const{data:t}=e;t.document_data.THEME_DATA&&(t.theme_data.THEME_DATA||(t.theme_data.THEME_DATA=t.document_data.THEME_DATA),delete t.document_data.THEME_DATA)}}},function(e,t,n){"use strict";const o=n(0);e.exports={exec(e){"masterPage"===o.get(e,"structure.id")&&function(e){o.forEach(e.structure.children,e=>{"wysiwyg.viewer.components.tpapps.TPAGluedWidget"===e.componentType&&(e.layout.fixedPosition=!0)})}(e)}}},function(e,t,n){"use strict";const o=n(0),{stripHashIfExists:i}=n(2);function a(e,t,n,i){return function(e,t,n,i,a){return{type:"Component",styleId:a||"tpagw0",id:e,dataQuery:"#".concat(t),skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:o.get(i,"defaultWidth")||320,height:o.get(i,"defaultHeight")||250,x:o.get(i,"x")||0,y:o.get(i,"y")||0,scale:1,rotationInDegrees:0,fixedPosition:o.get(i,"fixedPosition")||!0},propertyQuery:n,componentType:"wysiwyg.viewer.components.tpapps.TPAGluedWidget"}}(e,t=u(t),n=u(n),{x:10,y:10,width:0,height:5,fixedPosition:!1},i)}function r(e,t){const n=o.find(t,{appDefinitionId:"14517e1a-3ff0-af98-408e-2bd6953c36a2"}),r=function(e,t){return o(e.structure.children).filter(n=>{if(!n.dataQuery)return!1;const a=e.data.document_data[i(n.dataQuery)];return"14517f3f-ffc5-eced-f592-980aaa0bbb5c"===o.get(a,"widgetId")||o.toString(o.get(a,"applicationId"))===o.toString(t)}).map(t=>({comp:t,data:e.data.document_data[i(t.dataQuery)]})).value()}(e).length>0;if(e&&"masterPage"===e.structure.id&&n&&!o.get(n,"permissions.revoked")&&r&&s(e.data,e.structure.children,n)&&!s(e.data,e.structure.mobileComponents,n)){!function(e,t){const n=e.structure.mobileComponents,i=o.find(n,{id:"SITE_FOOTER"}),r=t.dataQuery,s=t.propertyQuery,{styleId:c}=t;i&&o.isArray(i.components)?i.components.push(a(t.id,r,s,c)):n.push(a(t.id,r,s,c))}(e,c(e.data.document_data,e.structure.children,n))}}function s(e,t,n){return!!c(e.document_data,t,n)}function c(e,t,n){let i=[].concat(t);for(;!o.isEmpty(i);){const t=i.shift();if("wysiwyg.viewer.components.tpapps.TPAGluedWidget"===t.componentType){const o=e[u(t.dataQuery)];if(Number(o.applicationId)===Number(n.applicationId))return t}o.isEmpty(t.components)||(i=i.concat(t.components))}return null}function u(e){return e&&"#"===e[0]?e.substr(1):e}e.exports={exec(e,t,n,i,a,s,c,u){const p=o.get(u,"clientSpecMap");if("masterPage"===e.structure.id){const t=o.get(u,"quickActionsMenuEnabled");"masterPage"!==o.get(e,"structure.id")||t||r(e,p)}}}},function(e,t,n){"use strict";const o=n(0),i=e=>"TPAGlobalData"===e,a=e=>"TPA"===e;e.exports={exec(e,t,n,r,s,c,u,{clientSpecMap:p}){const d=(e=>{const t=o.get(e,"data.document_data");return o.filter(t,({type:e})=>"TPAWidget"===e||i(e)||a(e)||(e=>"TPAMultiSection"===e)(e))})(e);o.forEach(d,e=>{((e,t)=>{const n=i(e.type)?e.id.split("-")[1]:e.applicationId,a=o.get(t,[n,"appDefinitionId"]);o.set(e,"appDefinitionId",a)})(e,p),a(e.type)&&!o.get(e,"widgetId")&&((e,t)=>{const n=o.get(t,[e.applicationId,"widgets"]),i=o.get(t,[e.applicationId,"appDefinitionId"]),a=o.find(n,e=>e.appPage&&e.appPage.name&&!e.appPage.hidden),r=o.get(a,"widgetId");"13d21c63-b5ec-5912-8397-c3a5ddb27a97"===i?o.set(e,"widgetId","13d27016-697f-b82f-7512-8e20854c09f6"):"13e8d036-5516-6104-b456-c8466db39542"===i?o.set(e,"widgetId","13e8d047-31b9-9c1f-4f89-48ba9430f838"):o.set(e,"widgetId",r)})(e,p)})}}},function(e,t,n){"use strict";const o=n(0),{stripHashIfExists:i}=n(2),a=(e,t)=>{const n=t.getUniqueId("style","-"),o={type:"ComponentStyle",id:n,style:{properties:{},propertiesSource:{},groups:{}},componentClassName:"mobile.core.components.Page",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.page.TransparentPageSkin"};e.structure.styleId=n,e.data.theme_data[n]=o};function r(e,t,n){let i=o.get(e,["pageBackgrounds",n,"ref"]);i=o.replace(i,"#","");const a=o.get(t,["data","document_data",i]);a&&o.merge(a,{type:"BackgroundMedia",color:"transparent",alignType:"center",fittingType:"fill",scrollType:"none",mediaRef:null})}function s(e,t,n){if("masterPage"===o.get(e,"structure.id")){const n=o.get(e,"data.document_data"),i=o.find(n,{tpaApplicationId:t,tpaPageId:"fullscreen_page"});i&&(r(i,e,"desktop"),r(i,e,"mobile"))}else!function(e,t){const n=o.get(e,["structure","components"]),r=o.find(n,{componentType:"wysiwyg.viewer.components.tpapps.TPAMultiSection"});if(r){const n=i(r.dataQuery);"144f04b9-aab4-fde7-179b-780c11da4f46"===o.get(e,["data","document_data",n,"widgetId"])&&a(e,t)}}(e,n)}e.exports={exec(e,t,n,i,c,u,p,d){const l=function(e){const t=o.find(e,{appDefinitionId:"14271d6f-ba62-d045-549b-ab972ae1f70e"});return o.get(t,"applicationId")}(d.clientSpecMap),{uniqueIdGenerator:m}=d.dataFixerUtils;l&&(d.isViewerMode?((e,t,n)=>{const i=o.get(e,"structure.id"),s=o.get(e,["data","document_data",i]),c=o.get(s,"tpaPageId"),u=o.get(s,"tpaApplicationId");"fullscreen_page"===c&&u===t&&(r(s,e,"desktop"),r(s,e,"mobile"),a(e,n))})(e,l,m):s(e,l,m))}}},function(e,t,n){"use strict";const o=n(0),i=n(1),a=n(2),r=e=>{const t=e.data.document_data;return i.dataUtils.findCompInStructure(e.structure,!1,e=>"wysiwyg.viewer.components.tpapps.TPAMultiSection"===e.componentType&&"1380bbab-4da3-36b0-efb4-2e0599971d14"===((e,t)=>t[a.stripHashIfExists(e.dataQuery)]||{})(e,t).widgetId)};e.exports={exec(e){if(!!e.data.layout_data){const t=r(e);t&&t.layoutQuery&&((e,t)=>{const n=a.extractLayoutDataItems(t,e);o.forEach(n,e=>{const t="SingleLayoutData"===e.type?e.componentLayout:e;"ComponentLayout"===t.type&&t.height&&(t.height.type="auto",delete t.height.value)})})(t,e.data.layout_data)}},getCartPageTPA:r}},function(e,t,n){"use strict";const o=n(0),i=n(5),a={BgImageStripProperties(e){e.fittingType=i.cssToFittingType({bgSize:e.bgSize,bgRepeat:e.bgRepeat}),e.fittingType=i.migrateToLegacyFittings(e.fittingType),e.alignType=i.cssToAlignType(e.bgPosition),e.type="BgImageStripUnifiedProperties",delete e.bgSize,delete e.bgRepeat,delete e.bgPosition,delete e.bgUrl}};e.exports={exec(e){const t=e.data.component_properties;o.isEmpty(t)||function(e){o.forEach(e,e=>{const t=a[e.type];t&&t(e)})}(t)}}},function(e,t,n){"use strict";const o=n(0),i={faq:{filterAppPart:{appPartName:"f2c4fc13-e24d-4e99-aadf-4cff71092b88",viewName:"ExpandQuestions"},filterAppLogicCustomization:{type:"AppPartCustomization",forType:"Category",view:"ToggleMobile",key:"comp.initialState",fieldId:"toggle",format:"Mobile"},modify:e=>o.assign(e,{fieldId:"vars",key:"initialState"})}};e.exports={exec:function(e){o(i).values().forEach(t=>{o(e.data.document_data).filter(t.filterAppPart).forEach(e=>{e.appLogicCustomizations=o(e.appLogicCustomizations).map(e=>o.find([e],t.filterAppLogicCustomization)?t.modify(e):e).compact().value()})})}}},function(e,t,n){"use strict";const o=n(0),i=n(5),a=n(9);function r(e,t,n){const i=o.filter(e,e=>"Page"===e.type||"AppPage"===e.type),a=o.map(i,"id");if(o.some(i,e=>o.get(e,["pageBackgrounds","desktop","ref"])))s(e,n);else{!function(e,t,n,i,a){const r=p(t),s=p(n);o.forEach(i,t=>{const n=a.getUniqueId("mediaBg","-"),o=a.getUniqueId("mediaBg","-"),i=n.replace("mediaBg","bgImage"),c=o.replace("mediaBg","bgImage");u(e,r,t,n,i,"desktop"),u(e,s,t,o,c,"mobile")})}(e,t.siteBg,t.mobileBg&&"[siteBg]"!==t.mobileBg?t.mobileBg:t.siteBg,a,n)}}function s(e,t){const n=o.filter(e,{type:"BackgroundImage"});o.forEach(n,n=>{!function(e,t,n){const o=t.id,i=n.getUniqueId("bgImage-"),a=function(e){return l(d.apply(this,[e.url,e.imagesizew,e.imagesizeh,e.positionx,e.positiony,e.width,e.repeatx,e.repeaty,e.attachment,e.color,e.metaData]))}(t);c(e,a,o,i)}(e,n,t)})}function c(e,t,n,i){e[n]=o.assign({id:n},t.bgItem),t.imageItem&&(e[n].mediaRef="#".concat(i),e[i]=o.assign({id:i},t.imageItem))}function u(e,t,n,o,i,a){e[n].pageBackgrounds=e[n].pageBackgrounds||{desktop:"",mobile:""},e[n].pageBackgrounds[a]={ref:"#".concat(o),custom:!0,isPreset:!1},c(e,t,o,i)}function p(e){return l(d.apply(this,o.compact(e.split(" "))))}function d(e,t,n,o,i,a,r,s,c,u,p){return{imageId:e,imageW:t,imageH:n,x:o,y:i,width:a,repeatX:r,repeatY:s,attachment:c,color:u,metaData:{isPreset:(p=p||{}).isPreset||!1,schemaVersion:"2.0",isHidden:p.isHidden||!1}}}function l(e){const t={bgItem:{}};let n="rgb(255,255,255)";const o=i.cssToAlignType("".concat(e.x," ").concat(e.y));let r=i.cssToFittingType({bgRepeat:"".concat(e.repeatX," ").concat(e.repeatY),bgSize:e.width});const s="fixed"===e.attachment?"fixed":"scroll";return r=function(e){const t={};return t[a.fittingTypes.TILE]=a.fittingTypes.LEGACY_BG_FIT_AND_TILE,t[a.fittingTypes.TILE_HORIZONTAL]=a.fittingTypes.LEGACY_BG_FIT_AND_TILE_HORIZONTAL,t[a.fittingTypes.TILE_VERTICAL]=a.fittingTypes.LEGACY_BG_FIT_AND_TILE_VERTICAL,t[a.fittingTypes.LEGACY_ORIGINAL_SIZE]=a.fittingTypes.LEGACY_BG_NORMAL,t[e]||e}(r),e.color&&"none"!==e.color&&(n=e.color),e.imageId&&"none"!==e.imageId&&(t.imageItem={type:"Image",uri:e.imageId,width:parseInt(e.imageW,10),height:parseInt(e.imageH,10),metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1}}),t.bgItem={type:"BackgroundMedia",color:n,alignType:o,fittingType:r,scrollType:s,metaData:e.metaData},t}function m(e){const t=o.compact(e.split(" ")),n=d.apply(this,t);let{color:i}=n;return i&&(i=i.replace("[","{"),i=i.replace("]","}"),t[9]=i),t.join(" ")}e.exports={exec(e,t,n,i,a,c,u,p){if(!e.structure)return;const d=e.data.theme_data&&e.data.theme_data.THEME_DATA,l=e.data.document_data,y=o.some(l,{type:"BackgroundMedia"}),g=o.some(l,{type:"BackgroundImage"}),{uniqueIdGenerator:f}=p.dataFixerUtils;y&&!g||("Document"===e.structure.type?(!function(e){e.siteBg=m(e.siteBg),e.mobileBg&&"[siteBg]"!==e.mobileBg&&(e.mobileBg=m(e.mobileBg))}(d),r(l,d,f)):function(e,t){s(e,t)}(l,f))}}},function(e,t,n){"use strict";const o=n(0),i={alignType:"center",color:"{color_11}",fittingType:"fill",scrollType:"scroll",type:"BackgroundMedia"},a={desktop:{custom:!0,isPreset:!0,ref:null},mobile:{custom:!0,isPreset:!0,ref:null}};function r(e,t){const n=o.filter(e,e=>"Page"===e.type||"AppPage"===e.type);o.forEach(n,n=>{n.pageBackgrounds||(n.pageBackgrounds=o.cloneDeep(a)),["mobile","desktop"].forEach(a=>{if(o.has(n,["pageBackgrounds",a])&&!o.get(n,["pageBackgrounds",a,"ref"])){const r=function(e,t,n){return n.getUniqueId(t.id,"_")+e}("_".concat(a,"_bg"),n,t);!function(e,t){t[e]=o.assign({id:e},i)}(r,e),n.pageBackgrounds[a].ref="#".concat(r)}})})}e.exports={exec(e,t,n,i,a,s,c,u){if(!e.structure)return;const p=e.data.document_data,d=o.some(p,{type:"BackgroundMedia"}),{uniqueIdGenerator:l}=u.dataFixerUtils;d&&r(p,l)}}},function(e,t,n){"use strict";const o=n(0),{stripHashIfExists:i}=n(2);function a(e,t,n,a,r){if(0===e[t].indexOf("#".concat(a)))return;const s=o.cloneDeep(r[i(e[t])]),c=function(e,t,n){return"".concat(e,"_").concat(t,"_").concat(n)}(a,n,t);var u,p;p=s,r[u=c]=o.assign({id:u},o.omit(p,"id")),e[t]="#".concat(c)}function r(e,t){(e=>o.every(["mobile","desktop"].map(t=>!!o.get(e,["pageBackgrounds",t,"ref"]))))(e)&&["mobile","desktop"].forEach(n=>function(e,t,n){const o=n[i(t.pageBackgrounds[e].ref)];let r;o&&o.mediaRef&&(r=n[i(o.mediaRef)],"WixVideo"===r.type&&a(r,"posterImageRef",e,t.id,n),o.imageOverlay&&a(o,"imageOverlay",e,t.id,n),a(o,"mediaRef",e,t.id,n))}(n,e,t))}e.exports={exec(e){if(!e.structure)return;const t=e.data.document_data,n=o.filter(t,e=>"Page"===e.type||"AppPage"===e.type);o.forEach(n,e=>{r(e,t)})}}},function(e,t,n){"use strict";const o=n(0),i=n(7),{stripHashIfExists:a}=n(2),r=["wysiwyg.viewer.components.StripContainer","wysiwyg.viewer.components.StripContainerSlideShowSlide"],s={fixed:{action:"bgScrub",name:"BackgroundReveal",duration:1,delay:0},parallax:{action:"bgScrub",name:"BackgroundParallax",duration:1,delay:0}};function c(e,t){const n=o.get(t,[e.behaviorQuery,"items"],"[]");return JSON.parse(n)}function u(e,t){const n=a(e.designQuery);return t[a(t[n].background)]}function p(e,t,n,a){o.forEach(e,e=>{!function(e,t,n,a){let p;if(!o.includes(r,e.componentType))return;const d=u(e,t),l=d.scrollType||"none";if(d.scrollType="none","scroll"!==l&&"none"!==l&&s[l]){p=c(e,n),p=o.reject(p,{name:"ContainerFixedBg",action:"bgScrub"}),p.push(s[l]);const t=JSON.stringify(p);if(e.behaviorQuery)o.set(n,[e.behaviorQuery,"items"],t);else{const r=i.createBehaviorsDataItem(t,a);o.set(n,r.id,r),e.behaviorQuery=r.id}}}(e,t,n,a),e.components&&p(e.components,t,n,a)})}function d(e,t,n){o.forEach(e,e=>{!function(e,t,n){let i;if(!o.includes(r,e.componentType))return;u(e,t).scrollType="none",i=c(e,n),i=o.reject(i,{name:"ContainerFixedBg",action:"bgScrub"}),o.isEmpty(i)?(delete e.behaviors,delete e.behaviorQuery):o.set(n,[e.behaviorQuery,"items"],JSON.stringify(i))}(e,t,n),e.components&&d(e.components,t,n)})}e.exports={exec(e,t,n,o,i,a,r,s){const c=e.structure;if(!c)return;const u=e.data.design_data,l=e.data.behaviors_data,{uniqueIdGenerator:m}=s.dataFixerUtils;c.components&&p(c.components,u,l,m),c.children&&p(c.children,u,l,m),c.mobileComponents&&d(c.mobileComponents,u,l)}}},function(e,t,n){"use strict";const{CompsMigrationHelper:o}=n(3);const i=new o({"wysiwyg.viewer.components.StripContainerSlideShowSlide":function(e,t,n,o){o.layout.y=0}});e.exports={exec:i.migratePage.bind(i)}},function(e,t,n){"use strict";const o=n(0),{stripHashIfExists:i}=n(2);e.exports={exec(e){if("Page"===e.structure.type){const{components:t}=e.structure,n=e.data.document_data;o.forEach(t,e=>{if(o.includes(e.componentType,"DocumentMedia")){const{dataQuery:t}=e,o=n[i(t)];0===o.uri.indexOf("media/")&&(o.uri=o.uri.replace("media/",""))}})}return e}}},function(e,t,n){"use strict";const o=n(0);function i(e){e.urlChoice=o.includes(e.urlChoice,"pinterest.com")?e.urlChoice:"www.pinterest.com/"+e.urlChoice}e.exports={exec:e=>o(e.data.document_data).pickBy({type:"PinterestFollow"}).mapValues(i).value()}},function(e,t,n){"use strict";const o=n(0),{stripHashIfExists:i}=n(2);function a(e){const t=function(e){const t=o.findKey(e,e=>e.appPageId&&"7326bfbb-4b10-4a8e-84c1-73f776051e10"===e.appPageId);if(!t)return null;const n=o.findKey(e,e=>e.pageId&&e.pageId==="#".concat(t));return o.findKey(e,e=>e.link&&e.link==="#".concat(n))}(e);t&&function(e,t){const n=e.CUSTOM_MAIN_MENU&&e.CUSTOM_MAIN_MENU.items;o.forEach(n,n=>{const a=e[i(n)].items,r=o.indexOf(a,t);if(-1!==r)return a.splice(r,1),e.CUSTOM_MAIN_MENU.items.push(t),!1})}(e,"#".concat(t))}e.exports={exec:e=>(e.structure&&"Document"===e.structure.type&&a(e.data.document_data),e)}},function(e,t,n){"use strict";const o=n(0),i=n(1),a={exec(e){e.data&&e.data.document_data&&o(e.data.document_data).filter(e=>a.isAppPartType(e.type)).forEach(e=>{o(e.appLogicCustomizations).compact().groupBy("view").filter((e,t)=>i.appPartMediaInnerViewNameUtils.isMediaInnerViewName(t)).forEach(e=>{o(e).groupBy("fieldId").filter(e=>o.isEqual(o.map(e,"format"),[""])).forEach(e=>{o.forEach(e,e=>{e.format="*"})})})})},isAppPartType:e=>"AppPart"===e};e.exports=a},function(e,t,n){"use strict";const o=n(0),i=n(1),a={exec(e){e.data&&o(e.data.document_data).filter(e=>e.type===a.getAppPartType()&&o.includes(a.getBlogFeedAppPartNames(),e.appPartName)).forEach(e=>{const t=e.appLogicCustomizations;o(t).compact().filter(e=>e.fieldId===a.getReadMoreValueCustomizationFieldId()&&e.key===a.getReadMoreValueCustomizationKey()&&""===e.format&&o.includes(a.getAffectedReadMoreValueCustomizationViews(),e.view)).forEach(e=>{o.remove(t,{fieldId:e.fieldId,format:"*",key:e.key,view:e.view}),e.format="*"})})},getAppPartType:()=>"AppPart",getBlogFeedAppPartNames:()=>[i.blogAppPartNames.FEED,i.blogAppPartNames.CUSTOM_FEED],getReadMoreValueCustomizationFieldId:()=>"ReadMoreBtn",getReadMoreValueCustomizationKey:()=>"value",getAffectedReadMoreValueCustomizationViews:()=>["MediaLeft","MediaLeftPage","MediaRight","MediaRightPage","MediaZigzag","MediaZigzagPage","Masonry","MasonryPage"]};e.exports=a},function(e,t,n){"use strict";const o=n(0);e.exports={exec(e){o(e.data.document_data).filter({type:"AppPart"}).forEach(e=>{o(e.appLogicCustomizations).filter({fieldId:"tagsValue",forType:"Post",format:"",key:"value",view:"SinglePostMediaTop"}).forEach(e=>{e.format="*"})})}}},function(e,t,n){"use strict";const o=n(0);function i(e){const t=o.omit(e,"value");return JSON.stringify(t)}e.exports={exec(e){o(e.data.document_data).filter({type:"AppPart"}).forEach(e=>{const t=e.appLogicCustomizations;let n=t.length;const o={};for(;n;){n-=1;const e=i(t[n]);o[e]?t.splice(n,1):o[e]=!0}})}}},function(e,t,n){"use strict";const o=n(0),i=n(1);function a(e){return"Array"===e.forType&&"comp.itemsPerPage"===e.key&&o.includes(["","*"],e.format)&&o.includes(["paginatedlist","columnBlog"],e.fieldId)&&o.includes(["MediaTop","MediaBottom","MediaLeft","MediaRight","MediaZigzag","Masonry"],e.view)}e.exports={exec(e){o(e.data.document_data).filter({type:"AppPart",appPartName:i.blogAppPartNames.CUSTOM_FEED}).forEach(e=>{o(e.appLogicCustomizations).filter(a).forEach(e=>{o.assign(e,{fieldId:"vars",format:"*",key:"itemsPerPage"})})})}}},function(e,t,n){"use strict";const o=n(0),i=n(1);function a(e){return"Post"===e.forType&&"comp.hidden"===e.key&&("date"===e.fieldId||"author"===e.fieldId)&&o.includes(["MediaTop","MediaBottom","MediaLeft","MediaRight","MediaZigzag","Masonry","MediaTopPage","MediaBottomPage","MediaLeftPage","MediaRightPage","MediaZigzagPage","MasonryPage","SinglePostMediaBottom","SinglePostMediaTop"],e.view)}e.exports={exec(e){o(e.data.document_data).filter(e=>"AppPart"===e.type&&o.includes([i.blogAppPartNames.CUSTOM_FEED,i.blogAppPartNames.FEED,i.blogAppPartNames.SINGLE_POST],e.appPartName)).forEach(e=>{o(e.appLogicCustomizations).filter(a).forEach(e=>{o.assign(e,{fieldId:"dateAndAuthor"})})})}}},function(e,t,n){"use strict";const o=n(0),i=n(1);function a(e){return"Post"===e.forType&&"layout.spacerBefore"===e.key&&"date"===e.fieldId&&o.includes(["MediaTop","MediaBottom","MediaLeft","MediaRight","MediaZigzag","Masonry","MediaTopPage","MediaBottomPage","MediaLeftPage","MediaRightPage","MediaZigzagPage","MasonryPage","SinglePostMediaBottom","SinglePostMediaTop"],e.view)}e.exports={exec(e){o(e.data.document_data).filter(e=>"AppPart"===e.type&&o.includes([i.blogAppPartNames.CUSTOM_FEED,i.blogAppPartNames.FEED,i.blogAppPartNames.SINGLE_POST],e.appPartName)).forEach(e=>{o(e.appLogicCustomizations).filter(a).forEach(e=>{o.assign(e,{fieldId:"vars",key:"dateAndAuthorPosition",value:"0"===e.value?"left":"right"})})})}}},function(e,t,n){"use strict";const o=n(0),i=n(1);let a=null;e.exports={exec(e){o.isNull(a)&&(a=[],o.forEach(e.data.theme_data,(e,t,n)=>{o.matches({componentClassName:"wysiwyg.viewer.components.SiteButton",skin:"wysiwyg.viewer.skins.AppPartSkin"})(e)&&(a.push(t),delete n[t])}),setTimeout(()=>{a=null})),o(e.data.document_data).filter(e=>"AppPart"===e.type&&o.includes(i.blogAppPartNames,e.appPartName)).forEach(e=>{o.remove(e.appLogicCustomizations,e=>"comp.style"===e.key&&o.includes(a,e.value))})}}},function(e,t,n){"use strict";const o=n(0),{stripHashIfExists:i}=n(2),a=(e,t,n,r)=>{o.forEach(e,e=>{e.dataQuery&&n[i(e.dataQuery)]&&((e,t,n)=>{const o="propItem-".concat(e.id),i={type:"DefaultProperties",metaData:{pageId:n},isHidden:!0,id:o};t.component_properties[o]=i,e.propertyQuery="#".concat(o);const a=e.dataQuery;delete t.document_data[a],e.dataQuery=void 0,e.componentType="mobile.core.components.Container"})(e,t,r),a(e.components,t,n,r)})};e.exports={exec:(e,t,n,i,r,s,c,{clientSpecMap:u})=>{const p=e.structure;if(!p||!e.data||!u)return;const d=p.id,l=((e,t)=>o.pickBy(e,e=>{return"AppPart"===e.type&&e.appInnerID&&!((n=t[e.appInnerID])&&("wixapps"===n.type||"ecommerce"===n.type));var n}))(e.data.document_data,u);o.isEmpty(l)||(p.components&&a(p.components,e.data,l,d),p.mobileComponents&&a(p.mobileComponents,e.data,l,d),p.children&&a(p.children,e.data,l,d))}}},function(e,t,n){"use strict";const o=n(0),i=n(1),a={};a[i.blogAppPartNames.FEED]=["MediaBottomPage","MediaLeftPage","MediaRightPage","MediaTopPage","MediaZigzagPage"],a[i.blogAppPartNames.POSTS_LIST]=["PostsList","PostsListMediaLeft"],a[i.blogAppPartNames.TICKER]=["TickerMediaBottom","TickerMediaTop"],e.exports={exec(e){o(e.data.document_data).filter(e=>"AppPart"===e.type&&o.includes([i.blogAppPartNames.FEED,i.blogAppPartNames.POSTS_LIST,i.blogAppPartNames.TICKER],e.appPartName)).forEach(e=>{o(e.appLogicCustomizations).filter(t=>"date"===t.fieldId&&"Post"===t.forType&&!t.format&&"comp.format"===t.key&&o.includes(a[e.appPartName],t.view)).forEach(e=>{e.format="*"})})}}},function(e,t,n){"use strict";const o=n(0),{stripHashIfExists:i}=n(2),a={type:"ContactFormProperties",hidden_emailFieldLabel:!0,hidden_nameFieldLabel:!0,hidden_phoneFieldLabel:!1,hidden_addressFieldLabel:!1,hidden_subjectFieldLabel:!0,hidden_messageFieldLabel:!0,required_emailFieldLabel:!0,required_nameFieldLabel:!0,required_phoneFieldLabel:!1,required_addressFieldLabel:!1,required_subjectFieldLabel:!1,required_messageFieldLabel:!1,useCookie:!0},r={nameFieldLabel:{type:"string",default:"Name"},emailFieldLabel:{type:"string",default:"Email"},phoneFieldLabel:{type:"string",default:"Phone"},addressFieldLabel:{type:"string",default:"Address"},subjectFieldLabel:{type:"string",default:"Subject"},messageFieldLabel:{type:"string",default:"Message"},submitButtonLabel:{type:"string",default:"Send"},successMessage:{type:"string",default:"Your details were sent successfully!"},errorMessage:{type:"string",default:"Please provide a valid email"},textDirection:{type:"string",default:"left",enum:["left","right"]},validationErrorMessage:{type:"string",default:"Please fill in all required fields."},onSubmitBehavior:{type:"string",default:"message",enum:["message","link"]}},s={skinPrefix:"contactform.",fields:["name","email","subject","phone","address","message"]},c={skinPrefix:"wysiwyg.viewer.skins.contactform.",fields:["name","email","phone","address","subject","message"]};function u(e){return i(e||"")}function p(e){const t=u(e.propertyQuery);o.unset(e,"propertyQuery"),o.unset(this.pageJson.data.component_properties,[t])}function d(e,t,n){const i=o.startsWith(e,s.skinPrefix)?s.fields:c.fields;return o.reduce(i,(function(e,i){const a="".concat(i,"FieldLabel"),s=n["hidden_".concat(a)];if(s){const c=function(e){switch(e){case"email":return{fieldType:"email",fieldInputType:"email"};case"phone":return{fieldType:"phone",fieldInputType:"tel"};default:return{fieldType:e,fieldInputType:"text"}}}(i);e.push({name:c.fieldType,inputType:c.fieldInputType,displayLabel:t[a]||o.get(r[a],"default"),required:n["required_".concat(a)],isDisplayed:s})}return e}),[])}function l(e){const t=u(e.dataQuery),n=u(e.propertyQuery),i=this.pageJson.data.document_data[t],r=function(e,t,n){return!o.has(n.data.component_properties,t)&&"wysiwyg.viewer.components.ContactForm"===e.componentType}(e,n,this.pageJson)?a:this.pageJson.data.component_properties[n];var s;(o.unset(e,"propertyQuery"),o.set(e,"componentType","wysiwyg.viewer.components.DynamicContactForm"),s=i,o.has(s,"dynamicFields")&&"DynamicContactForm"===o.get(s,"type"))||(o.assign(this.pageJson.data.document_data[t],{type:"DynamicContactForm",dynamicFields:d(e.skin,i,r)}),["name","email","subject","phone","address","message"].forEach(e=>{o.unset(this.pageJson.data.document_data,[t,"".concat(e,"FieldLabel")])}),o.unset(this.pageJson.data.component_properties,n))}function m(e){e&&o.forEach(e,e=>{"wysiwyg.viewer.components.ContactForm"===e.componentType&&l.call(this,e),"wysiwyg.viewer.components.DynamicContactForm"===e.componentType&&p.call(this,e),m.call(this,e.components)})}e.exports={exec(e){const t=e.structure;if(function(e){return!!e}(t)){const n=o.concat([],t.components||t.children,t.mobileComponents||[]);m.call({pageJson:e},n)}}}},function(e,t,n){"use strict";const o=n(0);e.exports={exec:function(e){(function(e){return"Page"===o.get(e,"structure.type")})(e)&&function(e){o(e.data.document_data).filter({type:"Page"}).map("id").forEach(t=>{delete e.data.document_data[t]})}(e),function(e){o.forEach(e.data.document_data,e=>{"#SITE_STRUCTURE"===e.pageId&&(e.pageId="#masterPage")})}(e)}}},function(e,t,n){"use strict";const o=n(0),{createHelperAndMigratePage:i}=n(3),a=["dataQuery","designQuery","propertyQuery","connectionQuery","mobileComponents","mobileHintsQuery"],r=e=>{Object.assign(e,{type:"Container",skin:"wysiwyg.viewer.skins.area.DefaultAreaSkin",componentType:"mobile.core.components.Container"}),a.forEach(t=>{delete e[t]})},s=(e,t)=>{t.splice(t.indexOf(e),1)};function c(e,t,n,o){delete o.styleId,this.setComponentStyle(e,o,{type:"ComponentStyle",styleType:"custom",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{groups:{},properties:{"alpha-bg":0,"alpha-brd":"1",bg:"rgba(50,50,50,0)","boxShadowToggleOn-shd":"false",brd:"#ffffff",brw:"0px",rd:"0px",shd:"0px 0px 0px 0px rgba(0,0,0,0)"},propertiesSource:{"alpha-bg":"value","alpha-brd":"value",bg:"value","boxShadowToggleOn-shd":"value",brd:"value",brw:"value",rd:"value",shd:"value"}},componentClassName:"mobile.core.components.Container",pageId:"",compId:"",skin:"wysiwyg.viewer.skins.area.DefaultAreaSkin"},t),r(o)}e.exports={exec:i({"mobile.core.components.Page":function(e,t,n,i,a,u){if(!i.components.length)return void s(i,u);if(!n)return void c.call(this,e,t,n,i);const p=o.get(t,[i.id,"styleId"]);p?((e,t)=>{e.styleId=t,r(e)})(i,p):s(i,u)}})}},function(e,t,n){"use strict";const o=n(0),i=(e,t,n)=>{const{layout:i}=e;delete e.layout;const a=n.getUniqueId("layoutItem","-"),r=o.defaults({id:a,type:"AbsoluteLayout"},i);e.layoutQuery="#".concat(a),t[a]=r},a=(e,t,n)=>e.layoutQuery?(delete e.layout,!1):(e.layout&&i(e,t,n),e.modes&&e.modes.overrides&&e.modes.overrides.forEach(e=>{e.layout&&i(e,t,n)}),!0),r=(e,t,n)=>{o.forEach(e,e=>{a(e,t,n),r(e.components,t,n)})};e.exports={exec(e,t,n,o,i,s,c,u){const{isExperimentOpen:p,isViewerMode:d,dataFixerUtils:l}=u,m=p("bv_migrateAbsoluteLayoutToDataMaps"),{uniqueIdGenerator:y}=l;if(!m||!d)return;const g=e.structure;e.data.layout_data||(e.data.layout_data={});const f=e.data.layout_data;a(e.structure,f,y)&&(g.components&&r(g.components,f,y),g.mobileComponents&&r(g.mobileComponents,f,y),g.children&&r(g.children,f,y))}}},function(e,t,n){"use strict";const o=n(0);function i(e){o.forEach(e,e=>{var t;"wysiwyg.viewer.components.Group"===(t=e).componentType&&(t.skin="wysiwyg.viewer.components.GroupSkin"),i(e.components)})}e.exports={exec(e){const t=e.structure;if(t){const e=t.components||t.children,n=t.mobileComponents;e&&i(e),n&&i(n)}}}},function(e,t,n){"use strict";const o=n(0),i=["RichText","Text","StyledText","MediaRichText"];e.exports={exec(e){const t=e.data.document_data;t&&o(t).pickBy(e=>o.includes(i,e.type)).mapValues(e=>{var t;return e.text=(t=e.text)&&t.replace(/(<object[^>]*>)(.*?)(<\/object>)/gi,""),e.text=function(e){return e&&e.replace(/<img[^>]*(onerror|onload|onmouseenter|onmousemove|onmouseleave|onmouseover|onmouseup|onmouseout)[^>]*\/?>(<\/img>)?/gi,"")}(e.text),e}).value()}}},function(e,t,n){"use strict";const o=n(0),i=o.matchesProperty(["structure","type"],"Page");e.exports={exec(e,t,n,a,r,s,c,u){o.get(u,"isSlash")&&!i(e)&&o.forEach(u.pageIdToResolvedUriSEO,(t,n)=>{e.data.document_data[n]&&(e.data.document_data[n].pageUriSEO=t.curr)})}}},function(e,t,n){"use strict";const o=n(0),{createHelperAndMigratePage:i}=n(3);const a={"wysiwyg.viewer.components.StripContainer":function(e,t,n,i,a){i.componentType="wysiwyg.viewer.components.StripColumnsContainer",delete i.skin,i.styleId="strc1",this.setComponentProperties(e,i,{columnsMargin:0,frameMargin:0,fullWidth:!0,rowMargin:0,siteMargin:0,type:"StripColumnsContainerProperties"},t);const r=function(e,t,n){return{id:o.get(t,[e.id,"mediaId"],n.getUniqueId("media")),type:"Container",layout:{width:e.layout.width,height:e.layout.height,x:0,y:0,scale:1,rotationInDegrees:0,anchors:[{distance:0,topToTop:0,originalValue:0,type:"BOTTOM_PARENT",locked:!0,targetComponent:e.id}],fixedPosition:!1},components:e.components,componentType:"wysiwyg.viewer.components.Column",styleId:"strc1"}}(i,t,a);if(function(e,t){o.forEach(e.components,e=>{const n=o.get(e,["layout","anchors"],[]);o.forEach(n,e=>{"BOTTOM_PARENT"===e.type&&(e.targetComponent=t.id)})})}(i,r),function(e,t){e.behaviors&&(t.behaviors=o.clone(e.behaviors),delete e.behaviors),e.behaviorQuery&&(t.behaviorQuery=e.behaviorQuery,delete e.behaviorQuery)}(i,r),o.set(t,[i.id,"mediaId"],r.id),this.setComponentProperties(e,r,{type:"ColumnProperties",alignment:50},t),r.designQuery=i.designQuery,delete i.designQuery,n)i.layout.width=320,i.designQuery=o.get(t,[i.id,"designQuery"]),this.deleteComponentData(e,i);else{i.layout.width=980;const n=function(e){return{type:"MediaContainerDesignData",id:e.getUniqueId("dataItem","-"),background:{id:e.getUniqueId("dataItem","-"),type:"BackgroundMedia",mediaRef:null,alignType:"center",fittingType:"fill",colorOpacity:0,colorOverlay:"",colorOverlayOpacity:1,imageOverlay:"",scrollType:"none",color:"#FFFFFF"}}}(a);this.setComponentDesignData(e,i,n,t)}delete i.dataQuery,i.components=[r]}};e.exports={exec:i(a)}},function(e,t,n){"use strict";const o=n(0);function i(e){if("wysiwyg.viewer.skins.mobile.TinyMenuSkin"!==e.skin||o.isUndefined(e.style)||o.isUndefined(e.style.properties))return;const t=e.style.properties,n=e.style.propertiesSource;function i(e,t,n){o.isUndefined(e)||o.isUndefined(e[t])||(e[n]=e[n]||e[t])}o.forEach([["bg","bgDrop"],["bg","bgOpen"],["txt","bordercolor"],["txt","iconcolor"],["bordercolor","borderColorSelected"]],e=>{let o=e[0],a=e[1];i(t,o,a),i(n,o,a),o="alpha-".concat(o),a="alpha-".concat(a),i(t,o,a),i(n,o,a)})}e.exports={exec(e){const t=e.data&&e.data.theme_data;o.isEmpty(t)||o.forEach(t,i)}}},function(e,t,n){"use strict";const o=n(0);e.exports={exec(e){"masterPage"===o.get(e,["structure","id"])&&function e(t){const n=o.find(t,{id:"TINY_MENU"});return n?(n.layout.fixedPosition&&n.layout.x>320&&(n.layout.x=250),!0):o.some(t,t=>!o.isEmpty(t.components)&&e(t.components))}(e.structure.mobileComponents)}}},function(e,t,n){"use strict";const o=n(0);function i(e){return"wysiwyg.viewer.components.StripContainer"===e.componentType}function a(e){return!o.isUndefined(e.designQuery)}function r(e,t,n){return t[n]=e[n],delete e[n],t[n]}function s(e,t,n,i,a,s){const c=a.dataQuery.slice(1),u=function(e,t,n){const o=n.getUniqueId("dataItem","-");return t[o]={id:o,type:"MediaContainerDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1}},e.designQuery="#".concat(o),o}(a,t,s);n[c]=u;const p=function(e,t,n,i){const a=n[e];if(!o.isUndefined(a.background)){const e=a.background.slice(1),s=r(n,i,e);if(!o.isUndefined(s.mediaRef)){const e=r(n,i,s.mediaRef.slice(1));if("WixVideo"===e.type){r(n,i,e.posterImageRef.slice(1))}if(!o.isUndefined(e.originalImageDataRef)){r(n,i,e.originalImageDataRef.slice(1))}o.isUndefined(e.link)||delete e.link}if(!o.isUndefined(s.imageOverlay)){r(n,i,s.imageOverlay.slice(1))}return delete a.background,i[t].background="#".concat(e),e}}(c,u,e,t);o.isUndefined(p)||(i[c]=p)}function c(e,t,n,o){const i=o.dataQuery.slice(1);o.designQuery="#".concat(t[i])}function u(e){return o.isUndefined(e.components)?o.isUndefined(e.children)?[]:e.children:e.components}function p(e){const t=o.clone(e)||[],n=[];for(;t.length>0;){const e=t.pop();n.push(e);const i=u(e);o.forEach(i,e=>{t.push(e)})}return n}e.exports={exec(e,t,n,r,d,l,m,y){const g=function(e){return p(u(e.structure))}(e),f=function(e){return p(e.structure.mobileComponents)}(e),{uniqueIdGenerator:w}=y.dataFixerUtils;e.data.design_data=e.data.design_data||{},function(e,t,n,r,u){const p={},d={},l=o.filter(e,i);o(l).reject(a).forEach(o.partial(s,n,r,d,p,o,u)),o(t).filter(e=>i(e)&&!a(e)).forEach(o.partial(c,r,d,p))}(g,f,e.data.document_data,e.data.design_data,w)}}},function(e,t,n){"use strict";const o=n(0);function i(e){o.forEach(e,e=>{"BasicMenuItem"===e.type&&0===e.displayCount&&(e.displayCount=void 0)})}e.exports={exec(e){i(o.get(e,["data","document_data"],{})),o.forEach(o(e).get("translations",[]),e=>{i(o.get(e,["data","document_data"],{}))})}}},function(e,t,n){"use strict";const o=n(0);e.exports={exec(e){const t=e.data.document_data;o.isEmpty(t)||function(e){o.forEach(e,e=>{"LoginToWixLink"!==e.type&&"HomePageLogin"!==e.type||function(e){e.metaData&&"2.0"===e.metaData.schemaVersion||(e.sendMail=!0)}(e)})}(t)}}},function(e,t,n){"use strict";const o=n(0);e.exports={exec:e=>(e.structure&&"Document"===e.structure.type&&o.isEmpty(e.data.document_data.masterPage.characterSets)&&(e.data.document_data.masterPage.characterSets=["latin"]),e)}},function(e,t,n){"use strict";const o=n(0);e.exports={exec(e){const t=o.get(e,["data","component_properties",e.structure.id]);t&&t.popup&&(o.forEach(["desktop","mobile"],e=>{const n=t[e],i=t.popup[e];(n||i)&&o.set(t,[e,["popup"]],o.assign(n||{},i||{}))}),delete t.popup)}}},function(e,t,n){"use strict";const o=n(0);e.exports={exec(e){const t=o.get(e,["data","document_data"]);t&&o(t).filter("posterImageRef").forEach(e=>{const n=o.replace(e.posterImageRef,"#",""),i=t[n];o.get(i,"uri")&&(i.uri=o.trimStart(i.uri,"/"))})}}},function(e,t,n){"use strict";const o=n(0),i=n(1);e.exports={exec(e){o(e.data.document_data).filter({type:"AppPart",appPartName:i.blogAppPartNames.SINGLE_POST}).forEach(e=>{let t=o.find(e.appLogicCustomizations,{forType:"Post",fieldId:"vars",key:"selectionSharerExperimentOpen",view:e.viewName});t||(t={forType:"Post",fieldId:"vars",key:"selectionSharerExperimentOpen",view:e.viewName,type:"AppPartCustomization",format:""},e.appLogicCustomizations.push(t))})}}},function(e,t,n){"use strict";const o=n(0);function i(e){return o.find(e.structure.mobileComponents,{id:"QUICK_ACTION_BAR"})}function a(e){i(e).propertyQuery="quickActionBarProps",o.assign(e.data.component_properties,{quickActionBarProps:{type:"QuickActionBarProperties",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},colorScheme:"brand",invertColors:!0,alignment:"right",hideText:!0}})}function r(e){return!!i(e)}e.exports={exec(e,t,n,s,c,u,p,d){if("masterPage"!==e.structure.id)return;if(o(e.data.document_data).filter(e=>"QuickActionBarItem"===e.type&&o.isString(e.text)).forEach(e=>{e.text=e.text.slice(0,40)}),r(e))return function(e){const t=o.find(e.structure.mobileComponents,{id:"QUICK_ACTION_BAR"});o.isUndefined(t.components)&&(t.components=[]),t.type="Container",o.isUndefined(e.data.component_properties[t.propertyQuery])&&a(e)}(e),void function(e){const t=o.find(e.structure.mobileComponents,{id:"QUICK_ACTION_BAR"}),n=o.get(e.data.theme_data,[t.styleId,"style","properties"]);o.transform(["controlButtonBorderColor","actionsBorderColor"],(e,t)=>{/^rgb/.test(e[t])&&(e[t]="#ffffff")},n)}(e);(function(e){const t=o.find(e,{appDefinitionId:"14517e1a-3ff0-af98-408e-2bd6953c36a2"});return!o.isUndefined(t)&&!o.get(t,"permissions.revoked")})(d.clientSpecMap)&&!r(e)&&!d.quickActionsMenuEnabled&&(!function(e){e.structure.mobileComponents.push({type:"Container",id:"QUICK_ACTION_BAR",componentType:"wysiwyg.viewer.components.QuickActionBar",components:[],styleId:"quickActionBarStyle",layout:{fixedPosition:!0}})}(e),function(e){i(e).styleId="quickActionBarStyle",o.assign(e.data.theme_data,{quickActionBarStyle:{type:"TopLevelStyle",id:"quickActionBarStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},skin:"wysiwyg.viewer.skins.quickActionBar.floatingSkin",style:{properties:{"alpha-controlButtonBG":"1","alpha-controlButtonFG":"1","alpha-controlButtonBorderColor":"1","alpha-actionsBorderColor":"1","boxShadowToggleOn-actionsSHD":"true","boxShadowToggleOn-controlButtonSHD":"true",controlButtonBG:"#ffffff",controlButtonFG:"#4682b4",controlButtonBorderSize:"0",controlButtonBorderColor:"#ffffff",actionsBorderSize:"0",actionsBorderColor:"#ffffff",colorScheme:"brand inv",controlButtonSHD:"0px 1px 4px 0px rgba(0,0,0,0.6)",actionsSHD:"0px 1px 4px 0px rgba(0,0,0,0.6)"},propertiesSource:{controlButtonBG:"value",controlButtonFG:"value",controlButtonBorderSize:"value",controlButtonBorderColor:"value",actionsBorderSize:"value",actionsBorderColor:"value",colorScheme:"value",controlButtonSHD:"value",actionsSHD:"value"},groups:{}},componentClassName:"wysiwyg.viewer.components.QuickActionBar",pageId:"",compId:"",styleType:"custom"}})}(e),a(e))}}},function(e,t,n){"use strict";const o=n(0),i=n(1),a={exec(e){o.forEach(e.data.document_data,e=>{e.appPartName&&e.appPartName===i.blogAppPartNames.FEED&&a.fixMobileDateCustomization(e)})},fixMobileDateCustomization(e){o.forEach(e.appLogicCustomizations,e=>{"date"===e.fieldId&&"Mobile"===e.format&&"Post"===e.forType&&"comp.hidden"===e.key&&(e.fieldId="dateAndAuthor")})}};e.exports=a},function(e,t,n){"use strict";const o=n(0),i=n(2);function a(e,t,n,i){const a=o.tail(e);o.forEach(a,e=>{const a=function(e,t,n){const i="".concat(t,"_").concat(n.getUniqueId()),a=o.cloneDeep(e[t]);return a.id=i,a}(t,n,i);t[a.id]=a,e.originalImageDataRef="#".concat(a.id)})}e.exports={exec(e,t,n,r,s,c,u,p){const{uniqueIdGenerator:d}=p.dataFixerUtils,l=o.get(e,["data","document_data"]);if(!l)return;const m=o(l).pickBy({type:"Image"}).pickBy("originalImageDataRef").groupBy("originalImageDataRef").value();o.forOwn(m,(e,t)=>{const n=i.stripHashIfExists(t);l[n]||(o.forEach(e,e=>{delete e.originalImageDataRef}),delete m[t])}),o(m).pickBy(e=>e.length>1).forOwn((e,t)=>{a(e,l,i.stripHashIfExists(t),d)})}}},function(e,t,n){"use strict";const o=n(0);e.exports={exec(e){const t=e.data.component_properties;o.isEmpty(t)||function(e){o.forEach(e,e=>{"WPhotoProperties"===e.type&&e.effectName&&(e.filterEffect||"none"===e.effectName||(e.filterEffect={effectType:e.effectName}),delete e.effectName)})}(t)}}},function(e,t,n){"use strict";const o=n(0),i=["wysiwyg.viewer.skins.mobile.TinyMenuSkin","wysiwyg.viewer.skins.mobile.TinyMenuFullScreenSkin","wysiwyg.viewer.skins.mobile.TinyMenuPullFromLeftSkin","wysiwyg.viewer.skins.mobile.TinyMenuPullFromTopSkin","wysiwyg.viewer.skins.mobile.TinyMenuPullFromRightSkin"];e.exports={exec(e){if(!("masterPage"===o.get(e,["structure","id"])))return;const t=function e(t){let n=o.find(t,{id:"TINY_MENU"});return n||(o.forEach(t,t=>{if(!o.isEmpty(t.components))return n=e(t.components),!n}),n)}(e.structure.mobileComponents);t&&!function(e,t){const n=o.get(t,[e.styleId,"skin"]),a=e.skin;return n&&a&&o.includes(i,n)&&o.includes(i,a)}(t,e.data.theme_data)&&function(e){e.skin="wysiwyg.viewer.skins.mobile.TinyMenuSkin",e.styleId="tm2"}(t)}}},function(e,t,n){"use strict";const o=n(0),{vectorImageConversionUtils:i}=n(1),a=n(4),{stripHashIfExists:r}=n(2),s={"wysiwyg.viewer.components.svgshape.SvgShape":i.vectorImageDefaults},{convertStyle:c}=i,{convertData:u}=i,{convertProperties:p}=i,{convertStructure:d}=i;function l(e,t,n,i){o.forEach(e,e=>{if(e.components)"wysiwyg.viewer.components.Repeater"===e.componentType&&(!function(e,t,n){const i=t[r(o.get(e,"dataQuery",""))];l(e.components,t,n,o.get(i,"items"))}(e,t,n),i=[]),l(e.components,t,n,i);else{const a=s[e.componentType];if(a){const s=e.skin,c=r(o.get(e,"propertyQuery","")),l=r(o.get(e,"dataQuery",""));n[c]||(n[c]={});const m=t[l],y=n[c];d(e,a),u(m,a,s),p(y,a),o.forEach(o.get(e,["modes","overrides"]),e=>{if(e.propertyQuery){const t=r(o.get(e,"propertyQuery",""));n[t]||(n[t]={});const i=n[t];p(i,a)}}),o.forEach(i,n=>{const i=t["".concat(r(o.get(e,"dataQuery","")),"__").concat(n)];i&&u(i,a,s)})}}})}e.exports={exec(e){const t=e.data.theme_data,n=e.data.document_data,i=e.data.component_properties,r=e.structure.components||e.structure.children,{mobileComponents:u}=e.structure,p=[];o.isEmpty(t)||function(e){a.forEachStyle(e,e=>{if(o.includes(e.skin,"svgshape")&&"wysiwyg.viewer.components.PopupCloseIconButton"!==e.componentClassName){c(e,s["wysiwyg.viewer.components.svgshape.SvgShape"])}})}(t),o.isEmpty(r)||l(r,n,i,p),o.isEmpty(u)||l(u,n,i,p)}}},function(e,t,n){"use strict";const o=n(0),{vectorImageConversionUtils:i}=n(1),{forEachStyle:a}=n(4),r={"wysiwyg.viewer.components.VectorImageArt":i.vectorImageDefaults,"wysiwyg.viewer.components.VectorImageShape":i.vectorImageDefaults},{convertStyle:s}=i,{convertStructure:c}=i;function u(e){o.forEach(e,e=>{const t=r[e.componentType];t&&c(e,t),e.components&&u(e.components)})}e.exports={exec(e){const t=e.data.theme_data,n=e.structure.components||e.structure.children,{mobileComponents:i}=e.structure;o.isEmpty(t)||function(e){a(e,e=>{const t=r[e.componentClassName];t&&s(e,t)})}(t),o.isEmpty(n)||u(n),o.isEmpty(i)||u(i)}}},function(e,t,n){"use strict";const o=n(0),{CompsMigrationHelper:i}=n(3);function a(e,t,n,i,a){const r=function(e){return o(e).filter("appFields.platform").reduce((e,t)=>o(t.widgets).pickBy(["componentFields.semiNative",!0]).mapValues(o.constant(!0)).assign(e).value(),{})}(e),s=this.getComponentData(t,a);"wysiwyg.viewer.components.tpapps.TPAWidget"===a.componentType&&r[s.widgetId]&&(a.componentType="platform.components.semiNativeComponent",a.skin="wysiwyg.viewer.skins.semiNativeComponentSkin",a.styleId+="-semi",this.setComponentData(t,a,o.defaults({type:"SemiNative"},s),n))}e.exports={exec(e,t,n,r,s,c,u,p){if(p.isExperimentOpen("sv_migrateTpaToSemiNative")&&p.isViewerMode){"masterPage"===e.structure.id&&function(e){const t=o(e.data.theme_data).filter({componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"}).map(e=>{const t=o.cloneDeep(e);return t.componentClassName="platform.components.semiNativeComponent",t.skin="wysiwyg.viewer.skins.semiNativeComponentSkin",t}).transform((e,t)=>{e[t.id+"-semi"]=t},{}).value();o.assign(e.data.theme_data,t)}(e);const t={"wysiwyg.viewer.components.tpapps.TPAWidget":o.partial(a,p.clientSpecMap)},{uniqueIdGenerator:n}=p.dataFixerUtils;new i(t,n).migratePage(e)}}}},function(e,t,n){"use strict";const o=n(0),{CompsMigrationHelper:i}=n(3);function a(e,t,n,i){const a=e.data.document_data[i.dataQuery.slice(1)],r=e.data.component_properties,s=r[i.propertyQuery];if(o.has(s,"dataSource")){const e={type:s.dataSource.type,revision:s.dataSource.id};delete s.dataSource;const t="mobile_".concat(i.propertyQuery);o.has(r,t)&&delete r[t].dataSource,o.set(a,"dataSource",e)}}e.exports={exec(e,t,n,o,r,s,c,u){const p={"wysiwyg.viewer.components.Grid":a},{uniqueIdGenerator:d}=u.dataFixerUtils;new i(p,d).migratePage(e)}}},function(e,t,n){"use strict";const o=n(0),{createHelperAndMigratePage:i}=n(3);const a={"wysiwyg.viewer.components.Column":function(e,t,n,i){n&&o.startsWith(i.designQuery,"#mobile_")&&(this.deleteComponentDesignData(e,i),i.designQuery=o.replace(i.designQuery,"mobile_",""))}};e.exports={exec:i(a)}},function(e,t,n){"use strict";const{createHelperAndMigratePage:o}=n(3);function i(e,t,n,o,i){if(!o.designQuery&&!n){o.layout.width=980;const n=function(e){return{type:"MediaContainerDesignData",id:e.getUniqueId("dataItem","-"),background:{id:e.getUniqueId("dataItem","-"),type:"BackgroundMedia",mediaRef:null,alignType:"center",fittingType:"fill",colorOpacity:0,colorOverlay:"",colorOverlayOpacity:1,imageOverlay:"",scrollType:"none",color:"#FFFFFF"}}}(i);this.setComponentDesignData(e,o,n,t)}}const a={"wysiwyg.viewer.components.StripColumnsContainer":i,"wysiwyg.viewer.components.Column":i};e.exports={exec:o(a)}},function(e,t,n){"use strict";const o=n(0),i=n(1),a={"wysiwyg.viewer.components.WPhoto":{styleId:"wp1"},"mobile.core.components.Page":{styleId:"p1"},"wysiwyg.viewer.components.Repeater":{style:{type:"ComponentStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{properties:{"alpha-bg":"0","alpha-brd":"0",bg:"61,155,233,1","boxShadowToggleOn-shd":"false",brd:"#324158",brw:"0px",rd:"0px",shd:"0px 1px 4px 0px rgba(0,0,0,0.6)"},propertiesSource:{"alpha-bg":"value","alpha-brd":"value",bg:"value",brd:"value",brw:"value",rd:"value",shd:"value"},groups:{}},componentClassName:"mobile.core.components.Container",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.area.DefaultAreaSkin"}}},r=e=>o.has(a,e.componentType)&&("txtNew"===e.styleId||"wysiwyg.viewer.skins.WRichTextNewSkin"===e.skin);function s(e,t,n){const i=a[e.componentType];if(i.styleId)return delete e.skin,void(e.styleId=i.styleId);const r=((e,t)=>"".concat(t?"mobile-":"").concat(e.id.replace("comp-","style-")))(e,n),s=o.cloneDeep(i.style);s.id=r,t[r]=s,e.styleId=r,delete e.skin}e.exports={exec(e){const t=i.dataUtils.getAllCompsInStructure(e.structure,!1,r),n=i.dataUtils.getAllCompsInStructure(e.structure,!0,r);o.forEach(t,t=>s(t,e.data.theme_data,!1)),o.forEach(n,(n,o)=>{t[o]!==n&&s(n,e.data.theme_data,!0)})}}},function(e,t,n){"use strict";const o=n(0),i=n(1),a=e=>"wysiwyg.viewer.components.HoverBox"===e.componentType,r=(e,t)=>{const n=o.get(t,["modes","definitions"]);return{comp:t,overrides:o.get(t,["modes","overrides"]),definitions:n,mobileDisplayedModeId:o.get(e,["data","component_properties",t.propertyQuery,"mobileDisplayedModeId"])}},{HOVER:s}=i.siteConstants.COMP_MODES_TYPES;e.exports={exec(e){const t=i.dataUtils.getAllCompsInStructure(e.structure,!1,a),n=i.dataUtils.getAllCompsInStructure(e.structure,!0,a);o.forEach(t,(t,i)=>{const a=n[i];if(!a)return;const c=r(e,t),u=r(e,a),p=o.find(u.definitions,{modeId:u.mobileDisplayedModeId})||{type:s},d=o.find(c.definitions,{type:p.type})||o.find(c.definitions,{type:s});[c,u].forEach(({comp:t})=>{o.set(e,["data","component_properties",t.propertyQuery,"mobileDisplayedModeId"],d.modeId)}),((e,t,n,i,a)=>{const r=n.designQuery,s=i.overrides;if(!o.isEmpty(s)&&s.every(e=>o.get(e,"designQuery")!==r)){const e=o.find(i.definitions,{type:a.type}),t=o.get(e,"modeId");if(t){const e=o.find(s,e=>e.modeIds.includes(t)),i=o.get(e,"designQuery");i&&o.set(n,"designQuery",i)}}})(0,0,a,c,p),o.set(a,["modes","definitions"],c.definitions)})}}},function(e,t,n){"use strict";const o=n(0),{stripHashIfExists:i}=n(2),a=e=>i(o.get(e,["dataQuery"],"")),r=e=>t=>o.includes(["144f04b9-aab4-fde7-179b-780c11da4f46","14fd5970-8072-c276-1246-058b79e70c1a"],((e,t)=>o.get(e,["data","document_data",a(t),"widgetId"]))(e,t)),s=e=>o.set(e,["layout","width"],320);e.exports={exec(e){const t=o.get(e,["structure","mobileComponents"]);o(t).filter({componentType:"wysiwyg.viewer.components.tpapps.TPAMultiSection"}).filter(r(e)).forEach(s)}}},function(e,t,n){"use strict";const o=n(0),i={width:320,height:5,x:0,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1},a=(e,t)=>o.find(e,{dataQuery:t}),r=e=>t=>{const n=a(o.get(e,["structure","components"]),"#".concat(t.id));n&&(((e,t)=>{const n=o.get(e,["data","mobile_hints"]);n&&delete n[t]})(e,n.mobileHintsQuery),delete n.mobileHintsQuery,((e,t)=>{let n=a(e,t.dataQuery);!n&&e&&(n=o.clone(t),n.layout=i,e.push(n))})(o.get(e,["structure","mobileComponents"]),n))};e.exports={exec(e){const t=o.get(e,["data","document_data"]);o(t).filter({widgetId:"14fd5970-8072-c276-1246-058b79e70c1a"}).forEach(r(e))}}},function(e,t,n){"use strict";const o=n(0),i=["screenIn"];function a(e){var t;return t=e,o.includes(i,t.action)&&!o.isUndefined(t.delay)&&o.isUndefined(o.get(t,["params","doubleDelayFixed"]))&&o.merge(e,{delay:2*parseFloat(e.delay),params:{doubleDelayFixed:!0}}),e}e.exports={exec(e){const{behaviors_data:t}=e.data;o.isEmpty(t)||function(e){o.forEach(e,e=>{if(o.isString(e.items)){const t=JSON.parse(e.items),n=o.map(t,a);e.items=JSON.stringify(n)}})}(t)}}},function(e,t,n){"use strict";const o=n(0),{CompsMigrationHelper:i}=n(3),a=["wysiwyg.viewer.components.inputs.TextInput","wixapps.integration.components.inputs.TextArea","wysiwyg.viewer.components.inputs.TextAreaInput","wysiwyg.viewer.components.inputs.ComboBoxInput","wysiwyg.viewer.components.inputs.DatePicker"];e.exports={exec:(e,t,n,r,s,c,u,p)=>{function d(e,t,n,i){const a=o.get(this.getComponentProperties(e,i),"placeholder"),r=this.getComponentData(e,i);if(!r&&p.isExperimentOpen("dm_inputFixerNotAddData"))return;const s=o.merge({placeholder:a},r);this.setComponentData(e,i,s,t)}const l=o.mapValues(o.keyBy(a),()=>d),{uniqueIdGenerator:m}=p.dataFixerUtils;new i(l,m).migratePage(e)}}},function(e,t,n){"use strict";function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}const a=n(0),r=e=>a.get(e,"layout.fixedPosition",!1),s=(e,t=[])=>{if(!e)return[];if(r(e))return[t];const n=c(e,"children",t),o=c(e,"components",t);return n.concat(o)},c=(e,t,n)=>{const i=[];if(e&&e[t]&&a.isArray(e[t])){const a=[].concat(n).concat(t);for(let n=0;n<e[t].length;n++)i.unshift.apply(i,o(s(e[t][n],a.concat(n))))}return i},u=e=>a.get(e,"structure.components.0",{}),p=(e,t,n)=>{const o=e[a.head(t)],i=o===a.get(e,t.slice(0,t.length-1)),r=t[1]+(i?0:1);o.splice(r,0,n)},d=(e,t)=>{const n=t.slice(0,t.length-1);a.get(e,n).splice(a.last(t),1)};e.exports={exec(e){const t=(e=>"wysiwyg.viewer.components.PopupContainer"===u(e).componentType)(e)?u(e):e.structure;var n;r(n=t)&&a.set(n,"layout.fixedPosition",!1);const o=s(t);var i,c;return i=t,c=o,a.forEach(c,e=>{const t=a.get(i,e);d(i,e),p(i,e,t)}),e}}},function(e,t,n){"use strict";const o=n(0),i=n(1),a=e=>t=>{const n=(({unquote:e})=>t=>{const n=[];i.htmlParser(t.text,{start(t,i){const a=o.find(i,{name:"style"});if(!a)return;const r=e?a.value.replace(/&quot;/g,""):a.value,s=/font-family:([^;]+);?/gi.exec(r);s&&n.push(s[1].trim())}}),o.set(t,"usedFonts",n)})(e);o(t.data.document_data).filter(({type:e,usedFonts:t})=>!t&&"StyledText"===e).forEach(n)};e.exports={exec(e,t,n,i,r,s,c,u){if(!u.isExperimentOpen("sv_usedFontsDataFixer"))return;const p=u.isExperimentOpen("sv_unquoteUsedFontsInDataFixer"),d=a({unquote:p});try{d(e),o(e.translations).forEach(d)}catch(e){}return e}}},function(e,t,n){"use strict";const{createHelperAndMigratePage:o}=n(3),i=({componentType:e,dataQuery:t})=>(n,o,i,a)=>{a.componentType=e,t&&(a.dataQuery=t)},a={"wysiwyg.viewer.components.ClipArt":i({componentType:"wysiwyg.viewer.components.WPhoto"}),"wysiwyg.viewer.components.HorizontalMenu":i({componentType:"wysiwyg.viewer.components.menus.DropDownMenu",dataQuery:"#CUSTOM_MAIN_MENU"})};e.exports={exec:o(a)}},function(e,t,n){"use strict";const o=n(0);e.exports={exec(e){if("Document"!==e.structure.type)return;if(o.get(e.data.document_data.TINY_MENU,"loginSocialBarRef"))return;const t=o.find(e.translations,e=>o.get(e,"data.document_data.TINY_MENU.loginSocialBarRef"));if(!t)return;const{loginSocialBarRef:n}=t.data.document_data.TINY_MENU;o.set(e.data.document_data.TINY_MENU,"loginSocialBarRef",n)}}},function(e,t,n){"use strict";const o=n(0),{createHelperAndMigratePage:i}=n(3),a=n(4);const r={"wysiwyg.viewer.components.inputs.ComboBoxInput":function(e,t,n,i){a.forEachComponentStyle(e.data.theme_data,i.styleId,t=>{const n=o.get(t,["style","properties"]);if(!n)return;const a=this.getComponentProperties(e,i),r=this.getComponentData(e,i),s=r.value===function(e,t){return o.get(e,["placeholder","value"])||o.get(t,["placeholder","value"])}(a,r);n.txt_placeholder||(s?o.assign(n,{txt_placeholder:n.txt2}):o.assign(n,{txt_placeholder:n.txt}))})}};e.exports={exec:i(r)}},function(e,t,n){"use strict";const o=n(0),{CompsMigrationHelper:i}=n(3),{getOverrides:a}=n(106),r=n(4);e.exports={WUSOverrides:a(),exec(e,t,n,a,s,c,u,p){if(p.isViewerMode){const t=e.data&&e.data.theme_data,n={};if(Object.values(this.WUSOverrides).forEach(e=>{var i,a,s;p.isExperimentOpen(e.viewerExperimentKey)&&(n[e.overrideViewerType]=o.partial((i=e.overrideViewerType,a=e.newComponentViewerType,s=e.newComponentSkin,(e,t,n,o,r)=>{r.componentType===i&&(r.componentType=a,s&&(r.skin=s))}),p.clientSpecMap),o.isEmpty(t)||r.forEachStyle(t,t=>((e,{newComponentSkin:t,overrideViewerType:n,newComponentViewerType:o})=>{e.componentClassName===n&&(e.componentClassName=o,e.skin=t)})(t,e)))}),Object.values(n).length){const{uniqueIdGenerator:t}=p.dataFixerUtils;new i(n,t).migratePage(e)}}}}},function(e,t,n){var o;"undefined"!=typeof self&&self,o=function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="https://static.parastorage.com/services/wix-ui-santa/1.1688.0/",n(n.s=127)}({127:function(e,t,n){var o=function(e){return e.keys().map(e).reduce((function(e,t){return e[t.overrideViewerType]=t,e}),{})}(n(128));e.exports={getOverrides:function(){return o}}},128:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=128}})},e.exports=o()},function(e,t,n){"use strict";const o=n(0),i=n(2),a=n(1),r=(e,t,n)=>{const a=o.difference(t.values,["#".concat(n)]);e[t.id]=i.refArray.update(t,a)},s=(e,t,n)=>{const s=a.constants.PAGE_DATA_DATA_TYPES[t],c=e.data[s],u=o.pickBy(c,i.refArray.isRefArray),p={};return o.forEach(u,e=>{const a=i.refArray.extractValuesWithoutHash(e);o.forEach(a,a=>{if(o.has(c,a))if(o.has(p,a)){if(p[a]===e.id)((e,t)=>{const n=o.uniq(t.values);e[t.id]=i.refArray.update(t,n)})(c,e);else{const r=c[a],s=((e,t,n,a,r)=>{const s=r.getUniqueId(t,"-",{bucket:t}),c=o.assign({},a,{id:s});if(i.breakpointRelation.isBreakpointRelation(a)){const n=e[i.stripHashIfExists(a.ref)],s=r.getUniqueId(t,"-",{bucket:t});c.ref="#".concat(s),e[s]=o.assign({},n,{id:s})}e[s]=c;const u=o(n.values).replace("#".concat(a.id),"#".concat(s)).split(",");return e[n.id]=i.refArray.update(n,u),s})(c,t,e,r,n);p[s]=e.id}}else p[a]=e.id;else r(c,e,a)})}),p},c=(e,t,n,s)=>{const c=a.constants.PAGE_DATA_DATA_TYPES[t],u=e.data[c],p=o.pickBy(u,i.breakpointRelation.isBreakpointRelation);o.forEach(p,e=>{const o=e.breakpoint&&i.stripHashIfExists(e.breakpoint),a=!!n[o],c=i.stripHashIfExists(e.ref),p=!!u[c],d=s[t][e.id],l=u[d];a&&p&&l||(((e,t)=>{const n=i.stripHashIfExists(t.ref);n&&delete e[n],delete e[t.id]})(u,e),l&&r(u,l,e.id))})};e.exports={exec:(e,t,n,a,r,u,p,d)=>{const{uniqueIdGenerator:l}=d.dataFixerUtils,m=o.get(e.data,"breakpoints_data");if(!o.isEmpty(m)){const t=o.pickBy(m,{type:"BreakpointRange"}),n={};n.layout=s(e,"layout",l),c(e,"layout",t,n),((e,t)=>{const n=e.data.document_data,a=o.pickBy(n,{type:"ImageX"});o.forEach(a,(e,a)=>{const r=o.filter(e.scopedData,e=>{const n=e.breakpoint&&i.stripHashIfExists(e.breakpoint);return!n||!!t[n]});n[a]=o.assign({},e,{scopedData:r})})})(e,t)}}}},function(e,t,n){"use strict";const o=n(0),i=n(2),a=(e,t,n)=>{let i;e?(i=e,n.push(t.id)):(i={componentLayout:{},itemLayout:{},containerLayout:{},type:"SingleLayoutData"},i.id=t.id,i.metaData=t.metaData);const a=o.omit(t,"breakpoint","id","metaData");switch(a.type){case"FlexContainerLayout":case"GridContainerLayout":case"StackContainerLayout":case"OrganizerContainerLayout":i.containerLayout=o.isEmpty(i.containerLayout)?a:i.containerLayout;break;case"FlexItemLayout":case"GridItemLayout":case"StackItemLayout":case"FixedItemLayout":case"OrganizerItemLayout":i.itemLayout=o.isEmpty(i.itemLayout)?a:i.itemLayout;break;case"ComponentLayout":i.componentLayout=o.isEmpty(i.componentLayout)?a:i.componentLayout;break;case"SingleLayoutData":i.containerLayout=o.isEmpty(i.containerLayout)?t.containerLayout:i.containerLayout,i.itemLayout=o.isEmpty(i.itemLayout)?t.itemLayout:i.itemLayout,i.componentLayout=o.isEmpty(i.componentLayout)?t.componentLayout:i.componentLayout}return i},r=(e,t,n,r)=>{o.forEach(n,n=>{const s=e.layout_data[n];let c,u=n;if(i.breakpointRelation.isBreakpointRelation(s))c=i.breakpointRelation.extractBreakpointWithoutHash(s),u=i.breakpointRelation.extractRefWithoutHash(s);else if(i.variantRelation.isVariantRelation(s)){const t=i.variantRelation.extractVariantsWithoutHash(s);c=((e,t)=>o.find(t,t=>"BreakpointRange"===e.variants_data[t].type))(e,t),u=i.variantRelation.extractToWithoutHash(s)}const p=e.layout_data[u];c?t.scoped[c]=((e,t,n,o,i)=>(e&&i.push(t.id),a(e,n,i)))(t.scoped[c],s,p,0,r):t.nonScoped=((e,t,n)=>a(e,t,n))(t.nonScoped,p,r)})},s=(e,t)=>{o.forEach(t,t=>{const n={nonScoped:void 0,scoped:{}},a=[],s=i.refArray.extractValuesWithoutHash(t);r(e,n,s,a),((e,t,n,a)=>{const r=o.difference(n,a);e.layout_data[t.id]=i.refArray.update(t,r),o.forEach(a,t=>{delete e.layout_data[t]})})(e,t,s,a),((e,t)=>{const n=o.get(t.nonScoped,"id");n&&(e.layout_data[n]=t.nonScoped),o.forEach(t.scoped,t=>{const n=t.id;e.layout_data[n]=t})})(e,n)})};e.exports={exec(e){const t=e.data.layout_data,n=o.filter(t,e=>!o.includes(["RefArray","SingleLayoutData","BreakpointRelation","VariantRelation"],e.type));o.isEmpty(n)||(e=>{const{data:t}=e,n=o.filter(t.layout_data,["type","RefArray"]);s(t,n)})(e)}}},function(e,t,n){"use strict";const o=n(0),i=n(1),a=n(2),r=(e,t,n)=>{const r=i.dataUtils.getAllCompsInStructure(n,!1,e=>o.has(e,t)),s={};return o.forEach(r,n=>{const i=a.stripHashIfExists(n[t]),r=o.get(e,i);if(a.refArray.isRefArray(r)){const t=a.refArray.extractValuesWithoutHash(r);o.forEach(t,t=>{a.breakpointRelation.isBreakpointRelation(e[t])&&(s[t]=n.id)})}}),s},s=(e,t)=>{a.breakpointRelation.isBreakpointRelation(e)&&(e.type="VariantRelation",e.to=e.ref,e.from="#".concat(t[e.id]),delete e.ref,e.breakpoint&&(e.variants=[e.breakpoint],delete e.breakpoint))},c=(e,t)=>{o.forEach(e,e=>{((e,t)=>{const n=t[a.stripHashIfExists(e.breakpointsQuery)];n&&(n.componentId=e.id),e.breakpointsQuery&&(e.breakpointVariantsQuery=a.stripHashIfExists(e.breakpointsQuery),delete e.breakpointsQuery)})(e,t)})};e.exports={exec(e){if(o.isEmpty(e.data.breakpoints_data))return;const t=i.dataUtils.getAllCompsInStructure(e.structure,!1),n=i.dataUtils.getAllCompsInStructure(e.structure,!0);(e=>{const{data:t,structure:n}=e;if(t.breakpoints_data&&(o.isEmpty(t.variants_data)?t.variants_data=t.breakpoints_data:t.variants_data=o.assign(t.breakpoints_data,t.variants_data),delete t.breakpoints_data),t.layout_data){const e=r(t.layout_data,"layoutQuery",n);t.layout_data=o.mapValues(t.layout_data,t=>(s(t,e),t))}if(t.theme_data){const e=r(t.theme_data,"styleId",n);t.theme_data=o.mapValues(t.theme_data,t=>(s(t,e),t))}})(e);const a=e.data.variants_data||{};c(t,a),c(n,a)}}},function(e,t,n){"use strict";e.exports={exec:function(e){const t=e.data.document_data.undefined;t&&"GlobalImageQuality"===t.type&&(t.id="IMAGE_QUALITY",e.data.document_data.IMAGE_QUALITY=t,delete e.data.document_data.undefined)}}},function(e,t,n){"use strict";const{createHelperAndMigratePage:o}=n(3),i={"wysiwyg.viewer.components.BoxSlideShow":a,"wysiwyg.viewer.components.StripContainerSlideShow":a,"wysiwyg.viewer.components.Repeater":a};function a(e,t,n,o,i,a){(o.components||[]).length||a.splice(a.indexOf(o),1)}e.exports={exec:o(i),comps:Object.keys(i)}},function(e,t,n){"use strict";const o=n(0),{stripHashIfExists:i}=n(2),a=(e,t,n)=>{const i="".concat(t,"_data"),a=e.data[i],r=o.pickBy(a,{type:"BreakpointRelation"});o.forEach(r,e=>{const t=e.breakpoint&&o.replace(e.breakpoint,"#",""),i=n[t]&&"#".concat(n[t]);i&&(e.breakpoint=i)})},r=(e,t)=>{const n=o.get(e.data,"breakpoints_data"),r=o.pickBy(n,{type:"BreakpointsData"}),s=o.pickBy(n,{type:"BreakpointRange"}),c={};o.forEach(s,e=>{const i=e.id,a=t.getUniqueId("breakpoints","-",{bucket:"breakpoints"});e.id=a,n[a]=o.set(e,"metaData.schemaVersion","2.0"),delete n[i],c[i]=a}),o.forEach(r,e=>{const t=[];e.values.forEach(e=>{const n=i(e),o="#".concat(c[n]);t.push(o)}),e.values=t}),a(e,"theme",c),a(e,"layout",c),((e,t)=>{const n=e.data.document_data,i=o.pickBy(n,{type:"ImageX"});o.forEach(i,e=>{const n=o.pickBy(e.scopedData,"breakpoint");o.forEach(n,e=>{const n=e.breakpoint&&o.replace(e.breakpoint,"#",""),i=t[n]&&"#".concat(t[n]);e.breakpoint=i})})})(e,c)};e.exports={exec:(e,t,n,i,a,s,c,u)=>{if(u.isViewerMode)return;const{uniqueIdGenerator:p}=u.dataFixerUtils,d=o.get(e.data,"breakpoints_data");if(!o.isEmpty(d)){const t=o.pickBy(d,{type:"BreakpointRange"});if(!o.some(t,({metaData:e})=>parseFloat(e.schemaVersion)<parseFloat("2.0")))return;r(e,p)}}}},function(e,t,n){"use strict";const{createHelperAndMigratePage:o}=n(3),i=n(1),a=n(0),r={"wysiwyg.viewer.components.MatrixGallery":function(e,t,n,o){const r=this.getComponentProperties(e,o);if(r&&!a.isNumber(r.itemHeight)){const n=this.getComponentData(e,o),c=Math.max(70,a.get(o,["layout","height"])),u=o.styleId,p=a.get(e,["data","theme_data",u]),d=a.get(p,"skin")||a.get(o,"skin"),l=a.get(s,[d,"heightDiff"])||0,m=i.matrixCalculations.getAvailableRowsNumber(r.maxRows,r.numCols,n.items.length),y=i.matrixCalculations.getItemHeight(r.margin,c,m,l),g=a.merge({itemHeight:y},r);this.setComponentProperties(e,o,g,t)}}},s={"skins.viewer.gallerymatrix.MatrixGalleryIronSkin":{heightDiff:40},"skins.viewer.gallerymatrix.MatrixGalleryScotchTapeSkin":{heightDiff:50},"wysiwyg.common.components.matrixgallery.viewer.skins.MatrixGallerySeparateTextBoxSkin":{heightDiff:40},"wysiwyg.common.components.matrixgallery.viewer.skins.MatrixGalleryTextOnCenterSkin":{heightDiff:25},"wysiwyg.viewer.skins.displayers.CircleDetailedDisplayer":{heightDiff:0},"wysiwyg.viewer.skins.displayers.PolaroidDisplayer":{heightDiff:40},"wysiwyg.viewer.skins.gallery.CircleMatrixGallery":{heightDiff:40},"wysiwyg.viewer.skins.gallery.MatrixGallerySkin":{heightDiff:40},"wysiwyg.viewer.skins.gallery.PolaroidMatrixGallery":{heightDiff:0},"wysiwyg.viewer.skins.gallerymatrix.BlogMatrixGallery":{heightDiff:25},"wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryCircleSkin":{heightDiff:40},"wysiwyg.viewer.skins.gallerymatrix.MatrixDisplayerVintage":{heightDiff:80},"wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryDefaultSkin":{heightDiff:25},"wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryLiftedShadow":{heightDiff:25},"wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryPolaroidSkin":{heightDiff:25},"wysiwyg.viewer.skins.gallerymatrix.MatrixGallerySloopy":{heightDiff:25},"wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryTextBelowSkin":{heightDiff:25},"wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryTextSlideUpSkin":{heightDiff:25},"wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryTransparentSkin":{heightDiff:25},"wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryVintage":{heightDiff:25},"wysiwyg.viewer.skins.gallerymatrix.PolaroidCustomHeightSkin":{heightDiff:25},"wysiwyg.viewer.skins.gallerymatrix.TextBottomCustomHeightSkin":{heightDiff:25}};e.exports={exec:o(r),comps:Object.keys(r)}},function(e,t,n){"use strict";const o=n(0),i={BackgroundParallax:[{name:"BgParallax",action:"bgScrub",duration:1,delay:0}],BackgroundReveal:[{name:"BgReveal",action:"bgScrub",duration:1,delay:0}],"BackgroundParallax,BackgroundZoom":[{name:"BgZoomIn",action:"bgScrub",duration:1,delay:0}],BackgroundFadeIn:[{name:"BgFadeIn",action:"bgScrub",duration:1,delay:0}]};function a(e){const t=o.filter(e,{action:"bgScrub"});return t&&function(e){const t=o(e).map("name").sort().join();return i[t]}(t)}e.exports={exec:function(e){const t=o.get(e,["data","behaviors_data"]);o.forEach(t,e=>{try{const t=e.items?JSON.parse(e.items):[],n=a(t);n&&function(e,t,n){const i=o.reject(t,{action:"bgScrub"}).concat(n);e.items=JSON.stringify(i)}(e,t,n)}catch(e){}})},FIXER_BEHAVIORS:i}},function(e,t,n){"use strict";const{createHelperAndMigratePage:o}=n(3);const i={"wysiwyg.viewer.components.SiteRegionContainer":function(e,t,n,o,i){if("SOSP_CONTAINER_CUSTOM_ID"===o.id&&"sirc1"===o.styleId){o.skin=void 0;const n=(e=>({type:"ComponentStyle",styleType:"custom",id:e.getUniqueId("style","-"),skin:"wysiwyg.viewer.skins.area.DefaultAreaSkin",componentClassName:"wysiwyg.viewer.components.SiteRegionContainer",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{groups:{},properties:{"alpha-bg":"1","alpha-brd":"1",bg:"color_11","boxShadowToggleOn-shd":"false",brd:"color_15",brw:"0",rd:"0px",shd:"0px 0px 0px 0px rgba(0,0,0,0)"},propertiesSource:{"alpha-bg":"value","alpha-brd":"value",bg:"theme","boxShadowToggleOn-shd":"value",brd:"theme",brw:"value",rd:"value",shd:"value"}}}))(i);o.styleId=n.id,this.setComponentStyle(e,o,n,t)}}};e.exports={exec:o(i)}},function(e,t,n){"use strict";const o=n(0),{publicDataMaps:i}=n(10);e.exports={exec:(e,t,n,a,r,s,c,u)=>{u.isViewerMode&&(e.data=o.pick(e.data,i))}}},function(e){e.exports=JSON.parse('{"anchors":{"namespace":"anchors","hasFeaturePublicAPI":false,"isPublicViewerData":true,"mapName":"anchors_data","query":"anchorQuery"},"atomicScopes":{"namespace":"atomicScopes","mapName":"atomicScopes","supportsVariants":false,"isPublicViewerData":false},"behaviors":{"mapName":"behaviors_data","query":"behaviorQuery","namespace":"behaviors","hasFeaturePublicAPI":false,"isPublicViewerData":true},"breakpoints":{"mapName":"breakpoints_data","query":"breakpointsQuery","namespace":"breakpoints","hasFeaturePublicAPI":false,"isPublicViewerData":true},"connections":{"mapName":"connections_data","query":"connectionQuery","namespace":"connections","hasFeaturePublicAPI":false,"isPublicViewerData":true},"contentRole":{"mapName":"contentRole","query":"contentRoleQuery","namespace":"contentRole","hasFeaturePublicAPI":true,"isPublicViewerData":false},"data":{"mapName":"document_data","query":"dataQuery","namespace":"data","hasFeaturePublicAPI":false,"isPublicViewerData":true,"overrideNamespace":"multilingualTranslations","supportsRepeaterItem":true},"design":{"mapName":"design_data","query":"designQuery","namespace":"design","hasFeaturePublicAPI":false,"isPublicViewerData":true,"supportsRepeaterItem":true,"supportsVariants":true,"scopedSerializationKey":"scopedDesigns"},"discussions":{"mapName":"discussions","query":"discussionsQuery","namespace":"discussions","supportsVariants":true,"hasFeaturePublicAPI":true,"isPublicViewerData":false},"grouping":{"mapName":"grouping","query":"groupingQuery","namespace":"grouping","hasFeaturePublicAPI":true,"isPublicViewerData":false},"intent":{"mapName":"intent","query":"intentQuery","namespace":"intent","hasFeaturePublicAPI":true,"isPublicViewerData":false},"layout":{"mapName":"layout_data","supportsVariants":true,"scopedSerializationKey":"scopedLayouts","query":"layoutQuery","namespace":"layout","hasFeaturePublicAPI":false,"isPublicViewerData":true},"manifest":{"mapName":"manifest","query":"manifestQuery","namespace":"manifest","hasFeaturePublicAPI":true,"isPublicViewerData":false},"migration":{"mapName":"migration","query":"migrationQuery","namespace":"migration","hasFeaturePublicAPI":true,"isPublicViewerData":false},"mobileHints":{"mapName":"mobile_hints","query":"mobileHintsQuery","namespace":"mobileHints","hasFeaturePublicAPI":false,"isPublicViewerData":true},"naming":{"mapName":"naming","query":"namingQuery","namespace":"naming","hasFeaturePublicAPI":true,"isPublicViewerData":false},"pageSections":{"namespace":"pageSections","mapName":"pageSections","supportsVariants":false,"query":"pageSectionsQuery","hasFeaturePublicAPI":true,"isPublicViewerData":false},"presets":{"mapName":"presets","supportsVariants":true,"scopedSerializationKey":"scopedPresets","query":"presetsQuery","namespace":"presets","hasFeaturePublicAPI":true,"isPublicViewerData":true},"props":{"namespace":"props","mapName":"component_properties","dataTypeName":"prop","query":"propertyQuery","hasFeaturePublicAPI":false,"isPublicViewerData":true},"reactions":{"namespace":"reactions","mapName":"reactions","supportsVariants":true,"scopedSerializationKey":"scopedReactions","query":"reactionsQuery","hasFeaturePublicAPI":false,"isPublicViewerData":true},"slots":{"namespace":"slots","mapName":"slots","supportsVariants":false,"query":"slotsQuery","hasFeaturePublicAPI":false,"isPublicViewerData":true},"states":{"namespace":"states","mapName":"states","supportsVariants":false,"query":"statesQuery","hasFeaturePublicAPI":false,"isPublicViewerData":true},"structure":{"namespace":"structure","mapName":"structure","aliases":["DESKTOP","MOBILE"],"hasFeaturePublicAPI":false,"isPublicViewerData":false},"style":{"mapName":"theme_data","dataTypeName":"theme","supportsVariants":true,"scopedSerializationKey":"scopedStyles","query":"styleId","namespace":"style","hasFeaturePublicAPI":false,"isPublicViewerData":true},"transformations":{"mapName":"transformations_data","supportsVariants":true,"scopedSerializationKey":"scopedTransformations","query":"transformationQuery","namespace":"transformations","hasFeaturePublicAPI":false,"isPublicViewerData":true},"transitions":{"mapName":"transitions_data","supportsVariants":true,"scopedSerializationKey":"scopedTransitions","query":"transitionQuery","namespace":"transitions","hasFeaturePublicAPI":false,"isPublicViewerData":true},"triggers":{"namespace":"triggers","mapName":"triggers","supportsVariants":false,"query":"triggersQuery","hasFeaturePublicAPI":false,"isPublicViewerData":true},"variants":{"mapName":"variants_data","namespace":"variants","query":"breakpointVariantsQuery","hasFeaturePublicAPI":false,"isPublicViewerData":true}}')},function(e,t,n){"use strict";const o=n(0),i=n(1),{nonPublicDataQueries:a}=n(10),r=e=>{o.isObject(e)&&o.forEach(a,t=>delete e[t])};e.exports={exec:(e,t,n,a,s,c,u,p)=>{if(p.isViewerMode){const t=i.dataUtils.getAllCompsInStructure(e.structure,!1),n=i.dataUtils.getAllCompsInStructure(e.structure,!0);o.forEach(t,r),o.forEach(n,r)}}}},function(e,t,n){"use strict";const o=n(0);e.exports={exec(e,t,n,i,a,r,s,c){if(!c.isExperimentOpen("dm_removePopupBehaviorPointingToNonExsitingPopup"))return;const{behaviors_data:u}=e.data,p=e.structure.behaviorQuery;!o.isEmpty(u)&&p&&function(e,t,n,i){const a=t[e];if(!a)return;const r=a.items;if(!o.isEmpty(r)&&o.isString(r)){const t=JSON.parse(r),s=o.find(t,e=>"openPopup"===o.get(e,["behavior","name"]));if(s){const r=o.get(s,["behavior","targetId"]);if(r&&!o.includes(n,r)){const n=o.reject(t,e=>"openPopup"===o.get(e,["behavior","name"]));o.isEmpty(n)?(delete i.structure.behaviorQuery,delete i.data.behaviors_data[e]):a.items=JSON.stringify(n)}}}}(p,u,t,e)}}},function(e,t,n){"use strict";const o=n(0),i={visualFocusDisabled:!1,skipToContent:!0};e.exports={exec:(e,t,n,a,r,s,c,u)=>{if(u.isExperimentOpen("dm_enableDefaultA11ySettings")&&"Document"===o.get(e,"structure.type")){const{accessibilitySettings:t={}}=e.data.document_data.masterPage;o.forOwn(i,(e,n)=>{o.isUndefined(t[n])&&(t[n]=e)}),e.data.document_data.masterPage.accessibilitySettings=t}}}},function(e,t,n){"use strict";const o=n(1),{getThemeData:i}=n(4);e.exports={exec(e,t,n,a,r,s,c,u){if("Document"===e.structure.type){const t=i(e);t&&(u.isExperimentOpen("dm_migrateToTextTheme")?(e=>{const{font:t,textTheme:n}=e;n&&n.length||(e.textTheme=t.map(e=>o.fonts.fontStringToTextTheme(e)))})(t):(e=>{e.textTheme&&delete e.textTheme})(t))}return e},EXPERIMENT_NAME:"dm_migrateToTextTheme"}},function(e,t,n){"use strict";const o=n(0),i=n(1),a=n(11),{DATA_TYPES:r,COMP_DATA_QUERY_KEYS_WITH_STYLE:s,NAMESPACE_MAPPING:c}=a,u=[r.theme,r.design,r.transformations,r.transitions],p=(e,t,n,o,i)=>{const a=s[n],c=e&&e[a];return!(!t||!c||c===t[a])&&(n!==r.design||c==="#".concat(e.id)||o&&!i[(u=e[a],u&&"#"===u[0]?u.slice(1):u)]);var u};e.exports={exec(e,t,n,a,r,d,l,m){const{isExperimentOpen:y}=m;if(y("dm_fixMobileSplitInVariantNs"))try{const t=y("dm_fixMobileSplitDesign"),n=e.data[c.design],a=i.dataUtils.getAllCompsInStructure(e.structure,!1,()=>!0),r=e=>((e,t,n,i)=>o.some(u,o=>{const a=e.id,r=t[a];return p(e,r,o,n,i)}))(e,a,t,n);((e,t,n,i)=>{o.forEach(e,(e,a)=>{const r=t[a];o.forEach(u,t=>{if(p(e,r,t,n,i)){const n=s[t];e[n]=r[n]}})})})(i.dataUtils.getAllCompsInStructure(e.structure,!0,r),a,t,n)}catch(e){return!1}}}},function(e,t,n){"use strict";const o=n(0),i=n(11),a=n(2),{NAMESPACE_MAPPING:r,COMP_DATA_QUERY_KEYS:s}=i,{stripHashIfExists:c}=a;e.exports={exec(e,t,n,i,a,u,p,d){const{isExperimentOpen:l}=d;if(l("dm_removeResponsiveDataFromClassicEditorFixer")){const{structure:t,data:n}=e;((e,t)=>{const{componentType:n}=e,i=c(e[s.variants]),a=c(e[s.layout]);if("mobile.core.components.Page"!==n||!i)return!1;const u=t[r.variants],p=t[r.layout];if(!u||!p)return!1;const d=o.filter(u,{type:"BreakpointsData",id:i,componentId:e.id});if(1!==d.length||!Array.isArray(d[0].values))return!1;if(!d[0].values.find(e=>{const t=u[c(e)];return t&&"BreakpointRange"===t.type&&1001===t.min}))return!1;const l=o.filter(p,{type:"RefArray"});return 1===l.length&&l[0].id===c(a)})(t,n)&&((e,t)=>{t[r.layout]={},t[r.variants]={},delete e[s.layout],delete e[s.variants]})(t,n)}}}},function(e,t,n){"use strict";const o=n(0),i=n(1),a=n(125);function r(e,{pageJson:t,urlFormatModel:n,isViewerMode:r,clientSpecMap:s,quickActionsMenuEnabled:c,experiments:u,pageIdsArray:p,pageId:d}){const l={};l.isSlash=o.matchesProperty("format",i.siteConstants.URL_FORMATS.SLASH)(n),l.pageIdToResolvedUriSEO=o.get(n,"pageIdToResolvedUriSEO",{}),l.clientSpecMap=s,l.quickActionsMenuEnabled=c,l.isExperimentOpen=e=>o.includes(u,e),l.isViewerMode=r,l.dataFixerUtils={uniqueIdGenerator:a(t,d)};const m=t.data||{};return m.document_data=m.document_data||{},m.theme_data=m.theme_data||{},m.component_properties=m.component_properties||{},m.mobile_hints=m.mobile_hints||{},t.data=m,o.forEach(e,e=>{e.exec(t,p,null,null,null,null,null,l)}),t}e.exports=e=>r.bind(null,e.getPlugins())},function(e,t,n){"use strict";const o=n(1),i=/^[0-9a-f]{6}_[0-9a-f]{32}_\d+$/;e.exports=function(e,t){if(i.test(t)){const n=function(e){return"Document"===e.structure.type?"masterPage":e.structure.id}(e),[,,i]=t.split("_"),a="".concat(n,"-").concat(Number(i).toString(36));return o.guidUtils.getUniqueIdGenerator(a)}return{getUniqueId:o.guidUtils.getUniqueId}}},function(e,t,n){"use strict";const o=n(0),i=n(1),a=n(6);function r(e){switch(e){case"wysiwyg.viewer.components.WSiteStructure":return"Document";case"mobile.core.components.Page":return"Page";case"wixapps.integration.components.Area":case"mobile.core.components.Container":case"wysiwyg.viewer.components.HeaderContainer":case"wysiwyg.viewer.components.FooterContainer":case"wysiwyg.viewer.components.PagesContainer":case"wysiwyg.viewer.components.ScreenWidthContainer":case"wysiwyg.viewer.components.StripContainer":return"Container"}return"Component"}function s(e){return parseInt(e||0,10)}function c(e,t,n,i,a){const c=o(i).map("name").invokeMap("toLowerCase").zipObject(o.map(i,"value")).value();"Page"===r(c.comp)&&(t.page=c.id),e.pagesData[t.page]=e.pagesData[t.page]||{structure:{},data:{},theme_data:{}};let u=e.pagesData[t.page].structure=e.pagesData[t.page].structure||{};if(o.has(t.childrenIndex,t.page)){for(let e=0;e<t.childrenIndex[t.page].length;e++)u=u.components[t.childrenIndex[t.page][e]];const e={};t.childrenIndex[t.page].push(u.components.length),u.components.push(e),u=e}else t.childrenIndex[t.page]=[];u.componentType=c.comp,u.type=r(c.comp),u.id=c.id,u.components=[],u.skin=c.skin,u.styleId=c.styleid,c.dataquery&&(u.dataQuery=c.dataquery),u.propertyQuery=c.propertyquery,u.layout={width:s(c.width),height:s(c.height),x:s(c.x),y:s(c.y),anchors:e.wixAnchors[c.id]||[]}}function u(e,t,n){0===t.childrenIndex[t.page].length?t.page="masterPage":t.childrenIndex[t.page].pop()}e.exports=function(e){e.pagesData={};const t=o.get(e,"wixData.document_data.SITE_STRUCTURE.mainPage")||o.get(e,"wixData.document_data.masterPage.mainPage"),n=t&&t.slice(1);e.pagesData.masterPage={data:e.wixData},e.pagesData.masterPage.structure={};const r={page:"masterPage",childrenIndex:{}};i.htmlParser(e.wixHtmlRaw,{start:c.bind(void 0,e,r),end:u.bind(void 0,e,r)});const s=o.keys(e.pagesData),p=o.without(s,"masterPage");e.pagesData.masterPage.data.document_data.MAIN_MENU=e.pagesData.masterPage.data.document_data.MAIN_MENU||{items:[],type:"Menu",id:"MAIN_MENU",metaData:{}},o.forEach(s,t=>{e.pagesData[t]=a(e.pagesData[t],p,e.requestModel,e.currentUrl,e.urlFormatModel)}),e.rendererModel.pageList={mainPageId:n,pages:o.map(p,t=>o.chain(e).get(["pagesData","masterPage","data","document_data",t]).pick(["title","pageUriSEO"]).assign({pageId:t}).value())}}}])}));
//# sourceMappingURL=santa-data-fixer.min.js.map